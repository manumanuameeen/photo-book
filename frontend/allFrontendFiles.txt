

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\App.tsx ====
import { QueryClientProvider } from "@tanstack/react-query";
import { RouterProvider } from "@tanstack/react-router";
import { Toaster } from "sonner";
import { router } from "./router";
import { queryClient } from "./lib/queryClient"

export  default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Toaster richColors position="top-center" />
      <RouterProvider router={router} />
    </QueryClientProvider>
  );
}
// export { router };

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\components\ConfirmToaster.tsx ====
import { toast } from "sonner";

export const confirm = (
  message: string,
  onConfirm: () => void,
  onCancel?: () => void
) => {
  toast(
    <div className="w-full max-w-sm mx-auto bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200">
     
      <div className="px-6 py-4" style={{ backgroundColor: "#006039" }}>
        <h3 className="text-white font-semibold text-lg tracking-wide">
          Confirm Action
        </h3>
      </div>

      <div className="p-6">
        <p
          className="text-gray-800 text-base leading-relaxed mb-6"
          dangerouslySetInnerHTML={{ __html: message }}
        />

        <div className="flex justify-end gap-3">
          <button
            onClick={() => {
              toast.dismiss();
              onCancel?.();
            }}
            className="px-5 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-all duration-200"
          >
            Cancel
          </button>

          <button
            onClick={() => {
              toast.dismiss();
              onConfirm();
            }}
            className="px-6 py-2 text-sm font-semibold text-white rounded-md transition-all duration-200 shadow-md hover:shadow-lg"
            style={{ backgroundColor: "#006039" }}
          >
            Confirm
          </button>
        </div>
      </div>
    </div>,
    {
      duration: Infinity,
      style: {
        background: "transparent",
        boxShadow: "none",
        padding: 0,
      },
    }
  );
};


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\components\FallbackUiI.tsx ====
import React from "react";
import { AlertCircle, Camera, RefreshCw, WifiOff } from "lucide-react";
import { motion } from "framer-motion";

interface FallbackProps {
  type: "video" | "image" | "page" | "network" | "auth";
  message?: string;
  onRetry?: () => void;
}

const FallbackUI: React.FC<FallbackProps> = ({ type, message, onRetry }) => {
  const config = {
    video: {
      icon: <Camera className="w-12 h-12" />,
      title: "Video Unavailable",
      desc: message || "This video could not be loaded. Using fallback.",
      color: "text-purple-600",
      bg: "bg-purple-50",
    },
    image: {
      icon: <AlertCircle className="w-12 h-12" />,
      title: "Image Failed",
      desc: message || "We couldn't load this image.",
      color: "text-pink-600",
      bg: "bg-pink-50",
    },
    page: {
      icon: <RefreshCw className="w-12 h-12 animate-spin" />,
      title: "Loading...",
      desc: "Please wait while we prepare your content.",
      color: "text-blue-600",
      bg: "bg-blue-50",
    },
    network: {
      icon: <WifiOff className="w-12 h-12" />,
      title: "No Internet",
      desc: "Check your connection and try again.",
      color: "text-red-600",
      bg: "bg-red-50",
    },
    auth: {
      icon: <AlertCircle className="w-12 h-12" />,
      title: "Session Expired",
      desc: "Please log in again to continue.",
      color: "text-orange-600",
      bg: "bg-orange-50",
    },
  };

  const { icon, title, desc, color, bg } = config[type];

  return (
    <motion.div
      initial={{ opacity: 0, scale: 0.9 }}
      animate={{ opacity: 1, scale: 1 }}
      className={`p-8 rounded-2xl ${bg} border-2 border-dashed ${color.replace("text", "border")} text-center max-w-md mx-auto`}
    >
      <div className={`${color} mb-4`}>{icon}</div>
      <h3 className={`text-2xl font-bold ${color} mb-2`}>{title}</h3>
      <p className="text-gray-600 mb-4">{desc}</p>
      {onRetry && (
        <button
          onClick={onRetry}
          className=" from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full font-medium hover:scale-105 transition"
        >
          Retry
        </button>
      )}
    </motion.div>
  );
};

export default FallbackUI;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\components\Loader.tsx ====
import React from "react";
import {motion } from "framer-motion"

interface LoaderProps {
  text?: string;
  fullscreen?: boolean;
}

const Loader: React.FC<LoaderProps> = ({
  text = "Loading...",
  fullscreen = true,
}) => {
  const containerClass = fullscreen
    ? "flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"
    : "flex flex-col items-center justify-center p-6";

  return (
    <div className={containerClass}>
      <motion.div
        className="relative flex items-center justify-center w-20 h-20"
        initial={{ scale: 0.9 }}
        animate={{ rotate: 360, scale: [0.9, 1.05, 0.9] }}
        transition={{
          rotate: { repeat: Infinity, duration: 1.6, ease: "linear" },
          scale: { repeat: Infinity, duration: 1.8, ease: "easeInOut" },
        }}
      >
        <div className="absolute inset-0 rounded-full border-[6px] border-transparent border-t-green-600 border-r-green-800 animate-spin-slow"></div>

        <motion.div
          className="w-10 h-10 rounded-full bg-green-700 shadow-[0_0_20px_4px_rgba(16,185,129,0.4)]"
          animate={{
            scale: [1, 1.2, 1],
            opacity: [1, 0.6, 1],
          }}
          transition={{
            repeat: Infinity,
            duration: 1.8,
            ease: "easeInOut",
          }}
        />
      </motion.div>

      <motion.p
        className="mt-8 text-lg font-medium text-gray-800 tracking-wide"
        initial={{ opacity: 0.3 }}
        animate={{ opacity: [0.3, 1, 0.3] }}
        transition={{ repeat: Infinity, duration: 1.5 }}
      >
        {text}
      </motion.p>
    </div>
  );
};

export default Loader;


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\components\SearchBat.tsx ====
import React, { useEffect, useRef } from "react";
import { Search } from "lucide-react";

interface SearchBarProps {
    value: string;
    onChange: (value: string) => void;
    placeholder?: string;
}

const SearchBar: React.FC<SearchBarProps> = ({ value, onChange, placeholder = "Search..." }) => {
    const inputRef = useRef<HTMLInputElement>(null);

    useEffect(() => {
        inputRef.current?.focus();
    }, []);

    return (
        <div className="flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-lg">
            <Search className="w-4 h-4 text-gray-400" />
            <input
                ref={inputRef}
                type="text"
                className="bg-transparent outline-none text-sm text-gray-600 w-64"
                placeholder={placeholder}
                value={value}
                onChange={(e) => onChange(e.target.value)}
            />
        </div>
    );
};

export default SearchBar;


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\components\tables\admin\admin.Table.tsx ====
import React from "react";

export type Column<T> = {
    header: string;
    render: (item: T) => React.ReactNode;
    align?: "left" | "right";
    width?: string;
};

export type AdminDataTableProps<T> = {
    title?: string;
    entityName?: string;
    columns: Column<T>[];
    data: T[];
    totalItems: number;
    itemsPerPage?: number;
    currentPage?: number;
    onPageChange?: (page: number) => void;
};

function AdminDataTable<T extends { id: string | number }>({
    title = "Data Table",
    entityName = "records",
    columns,
    data,
    totalItems,
    itemsPerPage = 10,
    currentPage = 1,
    onPageChange = () => { },
}: AdminDataTableProps<T>) {
    const totalPages = Math.ceil(totalItems / itemsPerPage);
    const startRange = (currentPage - 1) * itemsPerPage + 1;
    const endRange = Math.min(currentPage * itemsPerPage, totalItems);

    return (
        <div className="overflow-x-auto">
            {title && <h2 className="text-xl font-bold mb-4">{title}</h2>}

            <table className="min-w-full divide-y divide-gray-200">
                <thead className="bg-gray-50 text-xs uppercase tracking-wider text-gray-500">
                    <tr>
                        {columns.map((col, index) => (
                            <th
                                key={index}
                                className={`px-6 py-3 ${col.align === "right" ? "text-right" : "text-left"}`}
                                style={{ width: col.width || "auto" }}
                            >
                                {col.header}
                            </th>
                        ))}
                    </tr>
                </thead>

                <tbody className="bg-white divide-y divide-gray-200 text-sm">
                    {data.map((item) => (
                        <tr key={item.id}>
                            {columns.map((col, colIndex) => (
                                <td
                                    key={colIndex}
                                    className={`px-6 py-4 whitespace-nowrap ${col.align === "right" ? "text-right" : "text-left"
                                        } text-gray-600`}
                                >
                                    {col.render(item)}
                                </td>
                            ))}
                        </tr>
                    ))}
                </tbody>
            </table>


            <div className="flex justify-between items-center pt-4 text-sm">
                <p className="text-gray-600">
                    Showing {startRange}‚Äì{endRange} of {totalItems} {entityName}
                </p>
                <div className="flex items-center space-x-2">
                    <button
                        onClick={() => onPageChange(currentPage - 1)}
                        disabled={currentPage === 1}
                        className="px-3 py-1 border border-gray-300 rounded text-gray-600 hover:bg-gray-100 disabled:opacity-50"
                    >
                        Previous
                    </button>
                    {[...Array(totalPages)].map((_, i) => (
                        <button
                            key={i}
                            onClick={() => onPageChange(i + 1)}
                            className={`px-3 py-1 border rounded ${currentPage === i + 1
                                    ? "bg-green-500 text-white font-semibold"
                                    : "border-gray-300 text-gray-600 hover:bg-gray-100"
                                }`}
                        >
                            {i + 1}
                        </button>
                    ))}
                    <button
                        onClick={() => onPageChange(currentPage + 1)}
                        disabled={currentPage === totalPages}
                        className="px-3 py-1 border border-gray-300 rounded text-gray-600 hover:bg-gray-100 disabled:opacity-50"
                    >
                        Next
                    </button>
                </div>
            </div>
        </div>
    );
}

export default AdminDataTable;


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\components\ui\Button.tsx ====
import type React from "react";

export interface ButtonProps {
  variant?: "primary" | "secondary" | "danger";
  size?: "sm" | "md" | "lg";
  loading?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
}

export interface InputProps{
    type?:string;
    placeholder?:string;
    error?:string;
    icon?:React.ReactNode;
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\constants\routes.ts ====
export const ROUTES = {
  AUTH: {
    LOGIN: "/auth/login",
    SIGNUP: "/auth/signup",
    VERIFY_OTP: "/auth/verify-otp",
    FORGOT_PASSWORD: "/auth/forgetPassword",
    RESET_PASSWORD: "/auth/resetPassword",
    RESET_OTP:"/auth/reset-otp"
  },
  ADMIN: {
    DASHBOARD: "/admin/dashboard",
    USERS: "admin/usermanagement",
  },
  USER: {
    HOME: "/main/home",
  },
} as const;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\hooks\debounce.ts ====
import { useEffect, useState } from "react";



export function useDebounce<T>(value:T,delay = 400): T{
    const [debounceValue,setDebounceValue] = useState(value);

    useEffect(()=>{
        const timer = setTimeout(()=>{
            setDebounceValue(value);
        },delay);
        
        return ()=>{
            clearTimeout(timer);
        }
    },[value,delay])

    return debounceValue;
}




==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\index.css ====
/* @tailwind base;
@tailwind components;  */
/* @tailwind utilities;  */
@import "tailwindcss";

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\interfaces\user\Iuser.ts ====


export interface IUser {
  _id: string;
  name: string;
  email: string;
  phone: string;
  role: 'user' | 'admin' | "photorapher"; 
  status: 'active' | 'blocked';
  walletBalance: number;
  createdAt?: Date;
  updatedAt?: Date;
}


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\layouts\admin\AdminHeader.tsx ====
import React, { useState } from "react";
import { UserCircle, ChevronDown, Bell, Mail, LogOut } from "lucide-react";
import { useNavigate } from "@tanstack/react-router";
import { toast } from "sonner";
import { useAuthStore } from "../../modules/auth/store/useAuthStore.ts";
import { confirm } from "../../components/ConfirmToaster.tsx";
import {ROUTES} from "../../constants/routes.ts"


const AdminHeader: React.FC = () => {
  const [isDropdownOpen, setIsDropdownOpen] = useState(false);
  const [isLoggingOut, setIsLoggingOut] = useState(false);
  const navigate = useNavigate();
  const { logout, user } = useAuthStore();

  const handleLogout = () => {
    confirm(
      "Are you sure you need to Logout",
      async () => {
        if (isLoggingOut) return;

        setIsLoggingOut(true);
        setIsDropdownOpen(false);

        try {
          await logout();
          toast.success("Logout successfully");

          setTimeout(() => {
            navigate({ to: ROUTES.AUTH.LOGIN });
          }, 1200);
        } catch (error: unknown) {
          const message =
            error instanceof Error ? error.message : "Logout failed";
          toast.error(message);
          setIsLoggingOut(false);
        }
      },
      () => {
        toast.info("Logout Cancelled");
        setIsLoggingOut(false);
      }
    );
  };

  return (
    <header className="bg-white px-6 py-4 shadow-sm border-b border-gray-200 flex justify-between items-center sticky top-0 z-50">

      <div className="flex items-center gap-6">
        <div>
          <h2 className="text-xl font-semibold text-gray-800">Admin Dashboard</h2>
          <p className="text-sm text-gray-500">Welcome back!</p>
        </div>


      </div>

      <div className="flex items-center gap-4">
        <button className="relative p-2 hover:bg-gray-100 rounded-lg transition-colors">
          <Mail className="w-5 h-5 text-gray-600" />
          <span className="absolute top-1 right-1 w-2 h-2 bg-[#00693E] rounded-full"></span>
        </button>

        <button className="relative p-2 hover:bg-gray-100 rounded-lg transition-colors">
          <Bell className="w-5 h-5 text-gray-600" />
          <span className="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
        </button>

        <div className="relative">
          <button
            onClick={() => setIsDropdownOpen(!isDropdownOpen)}
            className="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors"
            disabled={isLoggingOut}
          >
            <div className="w-9 h-9  from-[#00693E] to-[#008848] rounded-full flex items-center justify-center">
              <UserCircle className="w-6 h-6 text-white" />
            </div>
            <div className="hidden md:block text-left">
              <p className="text-sm font-medium text-gray-800">
                {user?.name || "Admin User"}
              </p>
              <p className="text-xs text-gray-500">
                {user?.email || "admin@photobook.com"}
              </p>
            </div>
            <ChevronDown
              className={`w-4 h-4 text-gray-500 transition-transform ${isDropdownOpen ? "rotate-180" : ""
                }`}
            />
          </button>

          {isDropdownOpen && (
            <>
              <div
                className="fixed inset-0 z-40"
                onClick={() => setIsDropdownOpen(false)}
              />

              <div className="absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-xl z-50">
                <div className="p-3 border-b border-gray-100">
                  <p className="text-sm font-medium text-gray-800">
                    {user?.name || "Admin User"}
                  </p>
                  <p className="text-xs text-gray-500">
                    {user?.email || "admin@photobook.com"}
                  </p>
                </div>

                <button className="w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
                  <UserCircle className="w-4 h-4" />
                  My Profile
                </button>
                <button className="w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
                  <Mail className="w-4 h-4" />
                  Messages
                </button>
                <button className="w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
                  <Bell className="w-4 h-4" />
                  Notifications
                </button>

                <hr className="my-1" />

                <button
                  onClick={handleLogout}
                  disabled={isLoggingOut}
                  className="w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors rounded-b-lg disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  <LogOut className="w-4 h-4" />
                  {isLoggingOut ? "Logging out..." : "Logout"}
                </button>
              </div>
            </>
          )}
        </div>
      </div>
    </header>
  );
};

export default AdminHeader;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\layouts\admin\AdminSideBar.tsx ====
import React, { useState } from "react";
import {
  LayoutDashboard,
  Users,
  Camera,
  BookOpen,
  Key,
  Wallet,
  MessageSquare,
  Grid,
  LogOut,
} from "lucide-react";
import { useNavigate } from "@tanstack/react-router";
import { useAuthStore } from "../../modules/auth/store/useAuthStore.ts";
// import toast from "react-hot-toast";
import { toast } from "sonner"
import { confirm } from "../../components/ConfirmToaster.tsx";
import { ROUTES } from "../../constants/routes.ts";

interface NavItem {
  id: number;
  name: string;
  icon: React.ReactNode;
  path: string;
}

const navItems: NavItem[] = [
  { id: 1, name: "Dashboard", icon: <LayoutDashboard size={20} />, path: "/admin/dashboard" },
  { id: 2, name: "Users", icon: <Users size={20} />, path: "/admin/usermanagement" },
  { id: 3, name: "Photographers", icon: <Camera size={20} />, path: "/admin/photographers" },
  { id: 4, name: "Bookings", icon: <BookOpen size={20} />, path: "/admin/bookings" },
  { id: 5, name: "Rentals", icon: <Key size={20} />, path: "/admin/rentals" },
  { id: 6, name: "Wallet", icon: <Wallet size={20} />, path: "/admin/wallet" },
  { id: 7, name: "Chat", icon: <MessageSquare size={20} />, path: "/admin/chat" },
  { id: 8, name: "Category", icon: <Grid size={20} />, path: "/admin/category" },
];

const AdminSidebar: React.FC = () => {
  const navigate = useNavigate();
  const { logout } = useAuthStore()
  const [active, setActive] = useState<number>(1);




  const handleNavClick = (id: number, path: string) => {
    setActive(id);
    navigate({ to: path });
  };


  const handleLogout = () => {
    confirm(
      "Are you sure you need to logout",
      async () => {
        try {
          await logout();
          toast.success("Logged out successfully");
          setTimeout(() => {
            navigate({ to: ROUTES.AUTH.LOGIN });
          }, 1200);
        } catch {
          toast.error("Logout failed");
        }
      },
      () => {
        toast.info("Logout Cancelled");
      }
    );
  };

  return (
    <aside className="w-64 bg-white flex flex-col min-h-screen shadow-xl border-r border-gray-200">
      <div className="p-6 border-b border-gray-200">
        <div className="flex items-center gap-2">
          <div className="w-10 h-10  from-[#00693E] to-[#008848] rounded-lg flex items-center justify-center">
            <span className="text-white text-xl font-bold">üì∏</span>
          </div>
          <div>
            <h1 className="text-xl font-bold text-gray-800">PhotoBook</h1>
            <p className="text-xs text-gray-500">Admin Portal</p>
          </div>
        </div>
      </div>

      <nav className=" mt-6 px-3">
        <ul className="space-y-1">
          {navItems.map((item) => (
            <li key={item.id}>
              <button
                onClick={() => handleNavClick(item.id, item.path)}
                className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${active === item.id
                  ? "bg-[#00693E] text-white shadow-md shadow-green-200"
                  : "text-gray-600 hover:bg-gray-100 hover:text-gray-900"
                  }`}
              >
                {item.icon}
                <span className="text-sm font-medium">{item.name}</span>
              </button>
            </li>
          ))}
        </ul>
      </nav>

      <div className="border-t border-gray-200 p-4">
        <button className="w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200" onClick={handleLogout}>
          <LogOut size={20} />
          <span className="text-sm font-medium">Logout</span>
        </button>
      </div>
    </aside>
  );
};

export default AdminSidebar;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\layouts\admin\MetricCard.tsx ====
import React from 'react';
import type{ MetricData } from './types';

interface MetricCardProps {
  data: MetricData;
}

const colorMap = {
  blue: 'bg-blue-500',
  purple: 'bg-purple-500',
  green: 'bg-green-500',
  orange: 'bg-orange-100',
};

const MetricCard: React.FC<MetricCardProps> = ({ data }) => {
  const { title, value, trend, trendColor, icon, iconBgColor, isSmall } = data;

  if (isSmall) {
    return (
      <div className={`p-5 rounded-lg shadow-md flex flex-col justify-between relative ${colorMap[iconBgColor]}`}>
        <p className="text-sm font-medium text-gray-600">{title}</p>
        <h3 className="text-3xl font-bold text-gray-800 my-1">{value}</h3>
        {trend && <p className="text-xs text-gray-500">{trend}</p>}
        <i className={`${icon} absolute right-3 bottom-3 text-4xl opacity-30 text-gray-600`}></i>
      </div>
    );
  }

  return (
    <div className="bg-white p-6 rounded-lg shadow-md flex justify-between items-center">
      <div>
        <p className="text-sm font-medium text-gray-500">{title}</p>
        <h3 className="text-3xl font-bold text-gray-800 my-1">{value}</h3>
        <p className={`text-sm font-semibold ${trendColor === 'positive' ? 'text-green-500' : 'text-red-500'}`}>
          {trend}
        </p>
      </div>
      <div className={`p-3 rounded-full ${colorMap[iconBgColor]} text-white text-xl`}>
        <i className={icon}></i>
      </div>
    </div>
  );
};

export default MetricCard;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\layouts\admin\types.ts ====
export interface NavItem {
  id: number;
  name: string;
  icon: string; 
  active: boolean;
}

export interface MetricData {
  title: string;
  value: string;
  trend: string;
  trendColor: 'positive' | 'negative';
  icon: string;
  iconBgColor: 'blue' | 'purple' | 'green' | 'orange';
  isSmall?: boolean;
}

export interface ActivityItem {
  id: number;
  icon: string;
  title: string;
  detail: string;
  borderColor: 'green' | 'blue' | 'purple' | 'orange';
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\layouts\user\Footer.tsx ====


const Colors = {
  darkGreen: "#2e4a2d",
  gold: "#f7b731",
};

const Footer = () => {
  return (
    <footer className="py-8 px-6" style={{ backgroundColor: Colors.darkGreen }}>
        <div className="flex flex-col md:flex-row justify-between items-center max-w-7xl mx-auto text-white">
          
          <div className="flex space-x-5 mb-4 md:mb-0">
            <i className="fab fa-twitter text-lg hover:text-gray-300"></i>
            <i className="fab fa-pinterest text-lg hover:text-gray-300"></i>
            <i className="fab fa-instagram text-lg hover:text-gray-300"></i>
          </div>

          <div className="flex mb-4 md:mb-0">
            <input 
              type="email" 
              placeholder="Enter your email" 
              className="p-2 rounded-l-md text-gray-800 focus:outline-none w-48" 
            />
            <button 
              className="px-4 py-2 font-semibold rounded-r-md transition duration-200"
              style={{ backgroundColor: Colors.gold, color: Colors.darkGreen }}
            >
              Subscribe
            </button>
          </div>

          <p className="text-xs text-gray-400">
            ¬© 2024 PhotoBook, Inc. All rights reserved.
          </p>
        </div>
      </footer>
  );
};

export default Footer;


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\layouts\user\Header.tsx ====
import React, { useState } from "react";
import { useNavigate } from "@tanstack/react-router";
import { useAuthStore } from "../../modules/auth/store/useAuthStore";
import {
  User,
  LogOut,
  LayoutDashboard,
  Home,
  Camera,
  Calendar,
  ToolCase
} from "lucide-react";
import photoBookLogo from "../../assets/photoBook-icon.png"
import { toast } from "sonner";
import { ROUTES } from "../../constants/routes";

const Colors = {
  darkGreen: "#2e4a2d",
  lightGreen: "#5c8c5c",
  gold: "#f7b731",
  bgCream: "#e5efe1",
  white: "#ffffff",
};

const Header: React.FC = () => {
  const navigate = useNavigate();
  const { user, logout } = useAuthStore();
  const [profileOpen, setProfileOpen] = useState(false);

  const handleLogout = async () => {
    toast.success("Logout successfully")
    await logout();
    navigate({ to:ROUTES.AUTH.LOGIN });
  };

  return (
    <header className="bg-white shadow-sm py-4 px-6 md:px-12 border-b border-gray-100">
      <div className="flex justify-between items-center max-w-7xl mx-auto">

        <div className="flex items-center space-x-2 cursor-pointer" onClick={() => navigate({ to: ROUTES.USER.HOME })}>
          <img src={photoBookLogo} alt="PhotoBook" className="w-10 h-10" />
          <span className="text-xl font-bold" style={{ color: Colors.darkGreen }}>PhotoBook</span>
        </div>


        <nav className="hidden md:flex space-x-6 text-sm font-medium items-center">
          <div className="flex items-center space-x-1 cursor-pointer" onClick={() => navigate({ to: ROUTES.USER.HOM })}>
            <Home size={16} />
            <span>Home</span>
          </div>
          <div className="flex items-center space-x-1 cursor-pointer">
            <Camera size={16} />
            <span>Photographers</span>
          </div>
          <div className="flex items-center space-x-1 cursor-pointer">
            <Calendar size={16} />
            <span>Book Session</span>
          </div>
          <div className="flex items-center space-x-1 cursor-pointer">
            <ToolCase size={16} />
            <span>Equipment</span>
          </div>


          {user && (
            <div className="flex items-center space-x-1 cursor-pointer"
            >
              <LayoutDashboard size={16} />
              <span>Dashboard</span>
            </div>
          )}
        </nav>

        <div className="flex items-center space-x-4 relative">
          {!user ? (
            <>
              <button
                onClick={() => navigate({ to: "/auth/login" })}
                className="px-4 py-2 text-sm font-semibold rounded transition duration-200"
                style={{ backgroundColor: Colors.darkGreen, color: Colors.white }}
              >
                Login
              </button>
              <button
                onClick={() => navigate({ to: "/auth/signup" })}
                className="px-4 py-2 text-sm font-semibold rounded transition duration-200"
                style={{ backgroundColor: Colors.gold, color: Colors.darkGreen }}
              >
                Sign Up
              </button>
            </>
          ) : (
            <div className="relative">

              <button
                onClick={() => setProfileOpen(!profileOpen)}
                className="flex items-center space-x-1 border border-gray-200 px-3 py-1 rounded-full hover:shadow"
                style={{ backgroundColor: Colors.bgCream, color: Colors.darkGreen }}

              >
                <User size={18} />
                <span className="flex item-center text-">{user.name}</span>
              </button>

              {profileOpen && (
                <div className="absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded shadow-lg py-2 z-50">
                  <button
                    className="flex items-center w-full px-4 py-2 text-sm hover:bg-gray-100"
                  >
                    <User size={16} className="mr-2" />
                    Profile
                  </button>
                  <button
                    className="flex items-center w-full px-4 py-2 text-sm hover:bg-gray-100"
                  >
                    <LayoutDashboard size={16} className="mr-2" />
                    Dashboard
                  </button>
                  <button
                    className="flex items-center w-full px-4 py-2 text-sm text-red-500 hover:bg-gray-100"
                    onClick={handleLogout}
                  >
                    <LogOut size={16} className="mr-2" />
                    Logout
                  </button>
                </div>
              )}
            </div>
          )}
        </div>
      </div>
    </header>
  );
};

export default Header;


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\lib\queryClient.ts ====
import { QueryClient } from "@tanstack/react-query"

export const queryClient  = new QueryClient({
      defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5,
      retry: 1,
    },
  },
})

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\main.tsx ====


import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";

import "./index.css";




ReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\hooks\useUser.ts ====
import { useQuery, useMutation, useQueryClient } from "@tanstack/react-query";
import { AdminUserService } from "../services/implementaion/admin.user.service";
import type { IPagination } from "../types/IPagination";



export const useAdminUser = (page = 1, limit = 10, search = "") => {

    const  params: IPagination = {
        page: page,
        limit: limit,
        search: search
    }

    return useQuery({
        queryKey: ['admin-user', params],
        queryFn: () => AdminUserService.getalluser(params)
    });
};

export const useAdminById = (id: string) => {
    return useQuery({
        queryKey: ["admin-user", id],
        queryFn: () => AdminUserService.getuserbyId(id),
        enabled: !!id,
    })
}


export const useBlockUser = () => {
    const queryClient = useQueryClient();
    return useMutation({
        mutationFn: (id: string) => AdminUserService.blockuser(id),
        onSuccess: () => queryClient.invalidateQueries({ queryKey: ["admin-user"], exact: false }),
    });
}


export const useUnblockUser = () => {

    const queryClient = useQueryClient();
    return useMutation({
        mutationFn: (id: string) => AdminUserService.unblockUser(id),
        onSuccess: () => queryClient.invalidateQueries({ queryKey: ["admin-user"],exact:false })
    })
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\pages\dashBoard.tsx ====


import React from 'react';
import MetricCard from '../../../layouts/admin/MetricCard';
import type { MetricData, ActivityItem } from '../../../layouts/admin/types';

const topMetrics: MetricData[] = [
  { title: 'Total Users', value: '12,847', trend: '+2% from last month', trendColor: 'positive', icon: 'fas fa-users', iconBgColor: 'blue' },
  { title: 'Photographers', value: '1,234', trend: '+8% from last month', trendColor: 'positive', icon: 'fas fa-camera', iconBgColor: 'purple' },
  { title: 'Bookings', value: '3,456', trend: '+15% from last month', trendColor: 'positive', icon: 'fas fa-calendar-check', iconBgColor: 'green' },
];

const smallMetrics: MetricData[] = [
  { title: 'Active Rentals', value: '567', trend: '', trendColor: 'positive', icon: 'fas fa-bicycle', iconBgColor: 'orange', isSmall: true },
  { title: 'Revenue', value: '$89,234', trend: 'Monthly Income', trendColor: 'positive', icon: 'fas fa-dollar-sign', iconBgColor: 'green', isSmall: true },
  { title: 'Platform Assets', value: '$45,678', trend: 'Available Balance', trendColor: 'positive', icon: 'fas fa-cube', iconBgColor: 'purple', isSmall: true },
];

const activities: ActivityItem[] = [
  { id: 1, icon: 'fas fa-user-plus', title: 'New photographer registration', detail: 'John Smith joined - 2 minutes ago', borderColor: 'green' },
  { id: 2, icon: 'fas fa-check-circle', title: 'Equipment rental completed', detail: 'Sarah Johnson returned Canon EOS R5 - 25 min ago', borderColor: 'blue' },
  { id: 3, icon: 'fas fa-credit-card', title: 'Payment processed', detail: 'Rent for Nikon D850 from Mike Dosa - 1 hour ago', borderColor: 'purple' },
  { id: 4, icon: 'fas fa-calendar-alt', title: 'New booking request', detail: 'Canon Videos requested Sony A7 III this weekend - 3 hours ago', borderColor: 'orange' },
];

const DashboardLayout: React.FC = () => {
  return (
    <div className="space-y-6">
      {/* Top Metrics */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
        {topMetrics.map((data, index) => (
          <MetricCard key={index} data={data} />
        ))}
      </div>
      
      {/* Small Metrics */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
        {smallMetrics.map((data, index) => (
          <MetricCard key={index} data={data} />
        ))}
      </div>

      {/* Charts and Alerts */}
      <div className="grid grid-cols-1 lg:grid-cols-5 gap-6">
        {/* Charts Section */}
        <div className="col-span-1 lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-6">
          <div className="bg-white p-6 rounded-lg shadow-md h-64">
            <h4 className="text-lg font-semibold text-gray-700 mb-4">Monthly Income</h4>
            <div className="text-gray-400 h-40 flex items-center justify-center">[Chart Placeholder]</div>
          </div>
          <div className="bg-white p-6 rounded-lg shadow-md h-64">
            <h4 className="text-lg font-semibold text-gray-700 mb-4">Bookings Trend</h4>
            <div className="text-gray-400 h-40 flex items-center justify-center">[Chart Placeholder]</div>
          </div>
        </div>

        {/* Alerts Section */}
        <div className="col-span-1 lg:col-span-2 space-y-4">
          <div className="bg-white p-6 rounded-lg shadow-md">
            <h4 className="text-lg font-semibold text-gray-700 mb-4">Alerts & Notifications</h4>
            
            <div className="p-3 bg-yellow-50 border-l-4 border-yellow-500 rounded-md text-yellow-700 mb-2">
              <i className="fas fa-exclamation-triangle mr-2"></i> Pending Verifications
              <p className="text-xs text-gray-600 ml-5">3 Photographer waiting for approval</p>
            </div>
            <div className="p-3 bg-red-50 border-l-4 border-red-500 rounded-md text-red-700 mb-2">
              <i className="fas fa-credit-card mr-2"></i> Payment Issues
              <p className="text-xs text-gray-600 ml-5">2 Failed payments alerts</p>
            </div>
            <div className="p-3 bg-blue-50 border-l-4 border-blue-500 rounded-md text-blue-700">
              <i className="fas fa-sync-alt mr-2"></i> System Update
              <p className="text-xs text-gray-600 ml-5">Scheduled maintenance tonight</p>
            </div>
          </div>
        </div>
      </div>
      
      {/* Recent Activity */}
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h4 className="text-lg font-semibold text-gray-700 mb-4">Recent Activity</h4>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          {activities.map((item) => (
            <div 
              key={item.id} 
              className={`flex items-start p-4 bg-gray-50 rounded-lg border-l-4 
                ${item.borderColor === 'green' ? 'border-green-500' : 
                  item.borderColor === 'blue' ? 'border-blue-500' : 
                  item.borderColor === 'purple' ? 'border-purple-500' : 'border-orange-500'
                }`}
            >
              <i className={`${item.icon} text-lg text-gray-600 mr-3 mt-1`}></i>
              <div>
                <p className="font-semibold text-sm text-gray-800">{item.title}</p>
                <small className="text-xs text-gray-500">{item.detail}</small>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

export default DashboardLayout;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\pages\userManagemnet.tsx ====
import React, { useState } from "react";
import type { Column } from "../../../components/tables/admin/admin.Table";
import AdminDataTable from "../../../components/tables/admin/admin.Table";
import { useAdminUser, useBlockUser, useUnblockUser } from "../hooks/useUser";
import { toast } from "sonner";
import { Toaster } from "react-hot-toast";
import Loader from "../../../components/Loader";
import type { IUser } from "../types/admin.type";
import { Eye, Lock, Unlock } from "lucide-react";
import { AxiosError } from "axios";
// import type { ApiError } from "../../../utils/errorhandler";
import { getErrorMessage } from "../../../utils/errorhandler";
import { confirm } from "../../../components/ConfirmToaster";
import SearchBar from "../../../components/SearchBat";
import { useDebounce } from "../../../hooks/debounce";

interface UserTableData {
  id: string;
  name: string;
  email: string;
  role: string;
  status: string;
  isBlock: boolean;
  avatar?: string;
}

const UserManagement: React.FC = () => {
  const [searchTerm, setSearchTerm] = useState("");
  const [currentPage, setCurrentPage] = useState(1);
  const debouncedSearch = useDebounce(searchTerm,500);
  const { data, isLoading, error, isError } = useAdminUser(currentPage, 10, debouncedSearch);
  const blockUser = useBlockUser();
  const unblockUser = useUnblockUser();

  if (isLoading) {
    return <Loader text="user loading" />;
  }

  if (isError) {
    console.error("Error details:", error);
    return (
      <div className="flex items-center justify-center min-h-[70vh]">
        <div className="bg-white p-8 rounded-lg shadow-lg max-w-md">
          <div className="text-center">
            <div className="text-red-500 text-6xl mb-4">‚ö†Ô∏è</div>
            <h2 className="text-2xl font-bold text-gray-800 mb-2">Error Loading Data</h2>
            <p className="text-gray-600 mb-4">
              {(error as AxiosError<{ message?: string }>)?.response?.data?.message
                || (error as Error)?.message || "Failed to load users"}
            </p>
            <p className="text-sm text-gray-500 mb-4">
              Status: {(error as AxiosError)?.response?.status
                || "Unknown"}
            </p>
            <button
              onClick={() => window.location.reload()}
              className="px-6 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 transition-colors"
            >
              Retry
            </button>
          </div>
        </div>
      </div>
    );
  }

  let usersArray: IUser[] = [];
  console.log(" Found users at data.users.users1",);

  if (data?.data?.users && Array.isArray(data?.data?.users)) {
    usersArray = data.data.users;
    console.log(" Found users at data.users.users");
  }

  const users: UserTableData[] = usersArray.map((u) => ({
    id: u._id,
    name: u.name,
    email: u.email,
    role: u.role,
    status: u.isBlocked ? "inActive" : "Active",
    isBlock: u.isBlocked,
    avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(u.name)}&background=random`,
  }));




  const handleBlock = (id: string) => {

    confirm(
      "Are you want to block this user?",
      () => {
        blockUser.mutate(id, {
          onSuccess: () => {
            toast.success("User blocked successfully");
          },
          onError: (error: unknown) => {
            const errorMessage = getErrorMessage(error);
            toast.error(errorMessage);
          },
        });
      }
    )

  };

  const handleUnblock = (id: string) => {
    confirm(
      "Are you sure you want to unblock this user?",
      () => {
        unblockUser.mutate(id, {
          onSuccess: () => {
            toast.success("User unblocked successfully");
          },
          onError: (error: unknown) => {
            const errorMessage = getErrorMessage(error);
            toast.error(errorMessage);
          },
        });
      }
    )
  };



  const columns: Column<UserTableData>[] = [
    {
      header: "Name",
      render: (user) => (
        <div className="flex items-center space-x-3">
          <img
            src={user.avatar}
            alt={user.name}
            className="w-10 h-10 rounded-full border-2 border-gray-200"
            onError={(e) => {
              e.currentTarget.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(
                user.name
              )}&background=random`;
            }}
          />
          <span className="font-medium text-gray-800">{user.name}</span>
        </div>
      ),
    },
    {
      header: "Email",
      render: (user) => <span className="text-gray-700">{user.email}</span>,
    },
    {
      header: "Role",
      render: (user) => (
        <span className="capitalize font-medium text-gray-800 bg-blue-100 px-3 py-1 rounded-full text-sm">
          {user.role}
        </span>
      ),
    },
    {
      header: "Status",
      render: (user) => (
        <span
          className={`px-3 py-1 text-xs font-semibold rounded-full uppercase ${user.status === "Active"
            ? "bg-green-100 text-green-800"
            : "bg-red-100 text-red-800"
            }`}
        >
          {user.status}
        </span>
      ),
    },
    {
      header: "Actions",
      render: (user) => (
        <div className="flex items-center justify-end gap-3">
          <button
            className="p-2 rounded-md bg-blue-500 hover:bg-blue-600 transition-colors text-white"
            title="View Profile"
          >
            <Eye className="h-4 w-4" />
          </button>

          {user.isBlock === false ? (
            <button
              onClick={() => handleBlock(user.id)}
              disabled={blockUser.isPending}
              className="flex items-center gap-1 px-3 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              title="Block User"
            >
              {blockUser.isPending ? (
                <>
                  <Lock className="h-4 w-4 animate-pulse" /> Blocking...
                </>
              ) : (
                <>
                  <Lock className="h-4 w-4" /> Block
                </>
              )}
            </button>
          ) : (
            <button
              onClick={() => handleUnblock(user.id)}
              disabled={unblockUser.isPending}
              className="flex items-center gap-1 px-3 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              title="Unblock User"
            >
              {unblockUser.isPending ? (
                <>
                  <Unlock className="h-4 w-4 animate-pulse" /> Unblocking...
                </>
              ) : (
                <>
                  <Unlock className="h-4 w-4" /> Unblock
                </>
              )}
            </button>
          )}
        </div>
      ),
      align: "right",
    },
  ];

  return (
    <>
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex justify-between items-center mb-4">
        <SearchBar
          value={searchTerm}
          onChange={(value) => {
            setSearchTerm(value);
            setCurrentPage(1);
          }}
          placeholder="Search users..."
        />
      </div>
      <AdminDataTable
        title="User Management"
        entityName="users"
        columns={columns}
        data={users}
        totalItems={data?.data?.total ?? 0}
        currentPage={currentPage}
        itemsPerPage={10}
        onPageChange={setCurrentPage}
      />
    </>
  );
};

export default UserManagement;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\repositories\implementation\adminUser.repository.ts ====
import apiClient from "../../../../services/apiClient";
import type { IAdminUserRepo } from "../interface/IAdminUserRepo";
import type { IUserListResponce, IUserResponse } from "../../types/admin.type";
import type { IPagination } from "../../types/IPagination";

class AdminUserRepositoryClass implements IAdminUserRepo {
  async getAllUsers(params: IPagination): Promise<IUserListResponce> {
    const res = await apiClient.get<IUserListResponce>(
      `/admin/users?page=${params.page}&limit=${params.limit}&search=${params.search}`
    );
    return res.data;
  }

  async getUserById(id: string): Promise<IUserResponse> {
    const res = await apiClient.get(`/admin/users/${id}`);
    return res.data;
  }

  async blockUser(id: string): Promise<IUserResponse> {
    const res = await apiClient.patch(`/admin/users/${id}/block`);
    return res.data;
  }

  async unblockUser(id: string): Promise<IUserResponse> {
    const res = await apiClient.patch(`/admin/users/${id}/unblock`);
    return res.data;
  }
}

export const AdminUserRepository = new AdminUserRepositoryClass();


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\repositories\interface\IAdminUserRepo.ts ====
import type { IUserListResponce, IUserResponse } from "../../types/admin.type"
import type{IPagination} from "../../types/IPagination"

export interface IAdminUserRepo{

    getAllUsers(params:IPagination):Promise<IUserListResponce>;
    getUserById(id:string):Promise<IUserResponse>;
    blockUser(id:string):Promise<IUserResponse>;
    unblockUser(id:string):Promise<IUserResponse>;
 
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\services\implementaion\admin.user.service.ts ====


import type { IAdminUserService } from "../interface/IAdminUserService";
import type { IUserResponse,IUserListResponce } from "../../types/admin.type";
import type { IPagination } from "../../types/IPagination";
import type { IAdminUserRepo } from "../../repositories/interface/IAdminUserRepo";
import { AdminUserRepository } from "../../repositories/implementation/adminUser.repository";
 class AdminUserServiceClass implements IAdminUserService{


    private adminUserRepository: IAdminUserRepo

    constructor(adminUserRespo:IAdminUserRepo){
        this.adminUserRepository = adminUserRespo;
    }


    async getalluser(params: IPagination): Promise<IUserListResponce> {
        return this.adminUserRepository.getAllUsers(params);
    }

    async getuserbyId(id: string): Promise<IUserResponse> {
        return this.adminUserRepository.getUserById(id);
    }

    async blockuser(id: string): Promise<IUserResponse> {
        return this.adminUserRepository.blockUser(id)
    }

    async unblockUser(id: string): Promise<IUserResponse> {
        return this.adminUserRepository.unblockUser(id)
    }

}


export const AdminUserService = new AdminUserServiceClass(AdminUserRepository)

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\services\interface\IAdminUserService.ts ====

import type { IPagination } from "../../types/IPagination"
import type {IUserListResponce,IUserResponse,} from "../../types/admin.type"

export interface  IAdminUserService{

    getalluser(params:IPagination):Promise<IUserListResponce>;
    getuserbyId(id:string):Promise<IUserResponse>;
    blockuser(id:string):Promise<IUserResponse>;
    unblockUser(id:string):Promise<IUserResponse>;

}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\types\admin.type.ts ====

export interface IUser {
  _id: string;
  name: string;
  email: string;
  role: string;
  isBlocked: boolean;
}

export interface IUserListResponce {
  success: boolean;
  message: string;
  data: {
    users: IUser[];
    total: number;
    currentPage: number;
    totalPages: number;
  };
}

export interface IUserResponse {
  success: boolean;
  message: string;
  data: IUser;
}



==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\admin\types\IPagination.ts ====

export interface IPagination{
    page?:number;
    limit?:number;
    search?:string;
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\hooks\useAuth.ts ====
import { useMutation } from "@tanstack/react-query";
import { authService } from "../services/authService";
import type {
  ILoginRequest,
  ISignupRequest,
  IVerifyOtpRequest,
  IAuthResponse,
  IForgetPassword,
  IResetPassword,
  IVerifyResetOtp
} from "../types/auth.types";

export function useSignup() {
  return useMutation<IAuthResponse, Error, ISignupRequest>({
    mutationFn: async(data) => {
      const res =await authService.signup(data)
      console.log("res in useAUth hook", res)
      return res;
    }
  });
}

export function useVerifyOtp() {
  return useMutation<IAuthResponse, Error, IVerifyOtpRequest>({
    mutationFn: (data) => authService.verifyOtp(data),
  });
}

export function useLogin() {
  return useMutation<IAuthResponse, Error, ILoginRequest>({
    mutationFn: (data) => {
      // console.log(data)
      return authService.login(data)
    }
    ,
  });
}

export function useResendOtp() {
  return useMutation<{ message: string }, Error, string>({
    mutationFn: (email) => authService.resendOtp(email),
  });
}


export function useForgetPassword() {
  return useMutation<{ message: string }, Error, IForgetPassword>({
    mutationFn: (data) => authService.forgetPassword(data)
  })
}

export function useVerifyResetOtp() {
  return useMutation<{ message: string }, Error, IVerifyResetOtp>({
    mutationFn: (data) => authService.verifyResetOtp(data)
  })
}

export function useResetPassword() {
  return useMutation<{ message: string }, Error, IResetPassword>({
    mutationFn: (data) => authService.resetPassword(data)
  })
}


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\pages\auth\ForgetPassword.tsx ====

import React, { useState } from 'react';
import { Mail } from "lucide-react";
import { useNavigate } from "@tanstack/react-router";
import { useForgetPassword } from "../../hooks/useAuth";
import toast, { Toaster } from "react-hot-toast";
import photobookLogo from "../../../../assets/photoBook-icon.png";
// import type { ApiError } from '../../types/apiError';
import { getErrorMessage } from '../../../../utils/errorhandler';
import { ROUTES } from '../../../../constants/routes';

const Colors = {
  darkGreen: "#2e4a2d",
  gold: "#f7b731",
};

const ForgotPassword: React.FC = () => {
  const navigate = useNavigate();
  const forgetPasswordMutation = useForgetPassword();
  const [email, setEmail] = useState<string>('');

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    
    if (!email || !email.trim()) {
      toast.error('Please enter a valid email address.');
      return;
    }

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      toast.error('Invalid email format.');
      return;
    }

    // console.log("Submitting forget password for:", email.trim().toLowerCase());

    forgetPasswordMutation.mutate(
      { email: email.trim().toLowerCase() }, 
      {
        onSuccess: (response) => {
        //   console.log("‚úÖ Forget password success:", response);
          toast.success(response.message || "Reset code sent to your email!");
          
          const normalizedEmail = email.trim().toLowerCase();
          sessionStorage.setItem('resetPasswordEmail', normalizedEmail);
          console.log("üìß Stored email in sessionStorage:", normalizedEmail);
          
          setTimeout(() => {
            console.log("üîÑ Navigating to /auth/reset-otp");
            navigate({ to: "/auth/reset-otp" });
          }, 1000);
        },
        onError: (error: unknown) => {
          console.error(" Forget password error:", error);
          const errorMessage = getErrorMessage(error)
          toast.error(errorMessage);
        },
      }
    );
  };

  return (
    <div className="min-h-screen bg-white flex items-center justify-center p-3">
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex flex-col lg:flex-row max-w-3xl w-full bg-white shadow-2xl rounded-xl overflow-hidden">
        
        {/* Green Panel */}
        <div
          className="flex-1 text-white p-8 flex flex-col justify-between rounded-l-xl md:rounded-t-xl lg:rounded-l-xl lg:rounded-t-none"
          style={{ backgroundColor: Colors.darkGreen }}
        >
          <div>
            <h2 className="text-3xl leading-snug mt-8 mb-2">
              Forgot Your
              <br />
              <span className="italic font-bold text-amber-300 font-serif">
                Password?
              </span>
            </h2>
            <p className="text-sm leading-relaxed max-w-xs opacity-90">
              Don't worry! Enter your email and we'll send you a code to reset your password.
            </p>
          </div>
        </div>

        {/* Form Panel */}
        <div className="flex-1 bg-white p-6 sm:p-8 rounded-r-xl md:rounded-b-xl lg:rounded-r-xl lg:rounded-b-none">
          <div className="flex items-center mb-4">
            <img
              src={photobookLogo}
              alt="PhotoBook Logo"
              style={{ width: 180, height: 120, marginRight: 20 }}
            />
          </div>

          <div className="flex border-b mb-6 text-sm">
            <div className="px-3 py-2 text-green-700 font-semibold border-b-2 border-green-700">
              Forgot Password
            </div>
          </div>

          <form onSubmit={handleSubmit} className="space-y-4">
            <div>
              <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-2">
                Email Address
              </label>
              <div className="w-full flex items-center border border-gray-300 focus-within:border-green-500 rounded-md bg-white transition">
                <div className="p-2 text-gray-400">
                  <Mail size={16} />
                </div>
                <input
                  id="email"
                  name="email"
                  type="email"
                  autoComplete="email"
                  required
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  placeholder="Enter your email address"
                  className="w-full p-2 text-sm placeholder-gray-500 focus:outline-none bg-transparent"
                  disabled={forgetPasswordMutation.isPending}
                />
              </div>
            </div>

            <button
              type="submit"
              disabled={forgetPasswordMutation.isPending}
              className="w-full bg-green-700 text-white py-2.5 rounded-lg font-semibold hover:bg-green-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed"
            >
              {forgetPasswordMutation.isPending ? "Sending..." : "Send Reset Code"}
            </button>
          </form>

          <div className="text-center pt-4">
            <button
              onClick={() => navigate({ to: ROUTES.AUTH.LOGIN})}
              className="text-sm font-medium text-gray-600 hover:text-gray-900 transition duration-150"
            >
              &larr; Back to Login
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ForgotPassword;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\pages\auth\LoginPage.tsx ====
import React, { useState, memo } from "react";
import type { ChangeEvent, FormEvent } from "react";
import { Eye, EyeOff, Mail, Lock } from "lucide-react";
import photobookLogo from "../../../../assets/photoBook-icon.png";
import { getErrorMessage } from "../../../../utils/errorhandler";
// import type{ ApiError } from "../../types/apiError";
import { useNavigate } from "@tanstack/react-router";
import { useLogin } from "../../hooks/useAuth";
import toast, { Toaster } from "react-hot-toast";
import { useAuthStore } from "../../store/useAuthStore";
import { ROUTES } from "../../../../constants/routes";

interface LoginFormData {
  email: string;
  password: string;
}

type ValidationErrors = Partial<Record<keyof LoginFormData, string>>;

const GreenPanel: React.FC = () => (
  <div
    className="flex-1 text-white p-8 flex flex-col justify-between rounded-l-xl md:rounded-t-xl lg:rounded-l-xl lg:rounded-t-none"
    style={{ backgroundColor: "#006039" }}
  >
    <div>
      <h2 className="text-3xl leading-snug mt-8 mb-2">
        Welcome Back to Your
        <br />
        <span className="italic font-bold text-amber-300 font-serif">
          Photography Journey
        </span>
      </h2>
      <p className="text-sm leading-relaxed max-w-xs opacity-90">
        Sign in to continue capturing your perfect moments.
      </p>
    </div>

    <div className="mt-8 hidden lg:block">
      <h3 className="text-xs font-bold uppercase tracking-wider opacity-70 mb-2">
        Demo Accounts
      </h3>
      {[
        { title: "Regular User", email: "user@example.com", pass: "user123" },
        { title: "Photographer", email: "photo@example.com", pass: "photo123" },
        { title: "Admin", email: "admin@example.com", pass: "admin123" },
      ].map((user, index) => (
        <div
          key={index}
          className="bg-white/20 p-2 rounded-lg mb-2 border-l-4 border-green-500 transition hover:bg-white/30 shadow-sm"
        >
          <h4 className="font-semibold text-sm mb-1">{user.title}</h4>
          <p className="text-xs leading-tight">Email: {user.email}</p>
          <p className="text-xs leading-tight">Password: {user.pass}</p>
        </div>
      ))}
    </div>
  </div>
);

interface InputFieldProps {
  Icon: React.ElementType;
  placeholder: string;
  name: string;
  value: string;
  onChange: (e: ChangeEvent<HTMLInputElement>) => void;
  type: string;
  error?: string;
}

const InputField: React.FC<InputFieldProps> = memo(
  ({ Icon, placeholder, name, value, onChange, type, error }) => {
    const borderClass = error
      ? "border-red-500"
      : "border-gray-300 focus-within:border-green-500";

    return (
      <div className="w-full">
        <div className={`w-full flex items-center border ${borderClass} rounded-md bg-white transition`}>
          {Icon && (
            <div className="p-2 text-gray-400">
              <Icon size={16} />
            </div>
          )}
          <input
            type={type}
            name={name}
            placeholder={placeholder}
            value={value}
            onChange={onChange}
            className="w-full p-2 text-sm placeholder-gray-500 focus:outline-none bg-transparent"
          />
        </div>
        {error && (
          <p className="text-red-500 text-xs mt-1 ml-1 font-medium">{error}</p>
        )}
      </div>
    );
  }
);

interface FormPanelProps {
  formData: LoginFormData;
  errors: ValidationErrors;
  handleChange: (e: ChangeEvent<HTMLInputElement>) => void;
  handleSubmit: (e: FormEvent) => void;
  passwordVisible: boolean;
  setPasswordVisible: React.Dispatch<React.SetStateAction<boolean>>;
  loading: boolean;
  navigate: ReturnType<typeof useNavigate>;
}

const FormPanel: React.FC<FormPanelProps> = ({
  formData,
  errors,
  handleChange,
  handleSubmit,
  passwordVisible,
  setPasswordVisible,
  loading,
  navigate,
}) => (
  <div className="flex-1 bg-white p-6 sm:p-8 rounded-r-xl md:rounded-b-xl lg:rounded-r-xl lg:rounded-b-none">
    <div className="flex items-center mb-4">
      <img
        src={photobookLogo}
        alt="PhotoBook Logo"
        style={{ width: 180, height: 120, marginRight: 20 }}
      />
    </div>


    <div className="flex border-b mb-6 sm:mb-6 text-sm">
      <div className="px-3 py-2 text-green-700 font-semibold border-b-2 border-green-700">
        Login
      </div>
      <div
        className="px-3 py-2 text-gray-500 font-medium cursor-pointer"
        onClick={() => navigate({ to: "/auth/signup" })}
      >
        Sign Up
      </div>
    </div>

    <form onSubmit={handleSubmit} className="space-y-3">
      <InputField
        Icon={Mail}
        placeholder="Email Address"
        name="email"
        value={formData.email}
        onChange={handleChange}
        type="email"
        error={errors.email}
      />

      <div className="relative">
        <InputField
          Icon={Lock}
          placeholder="Password"
          name="password"
          value={formData.password}
          onChange={handleChange}
          type={passwordVisible ? "text" : "password"}
          error={errors.password}
        />
        <button
          type="button"
          className="absolute right-3 top-3 text-gray-400 p-1"
          onClick={() => setPasswordVisible(!passwordVisible)}
        >
          {passwordVisible ? <EyeOff size={16} /> : <Eye size={16} />}
        </button>
      </div>

      <button
        type="submit"
        disabled={loading}
        className="w-full bg-green-700 text-white font-semibold py-2.5 rounded-md shadow-md hover:bg-green-800 transition duration-200 mt-4 disabled:opacity-70 text-sm"
      >
        {loading ? "Signing In..." : "Sign In"}
      </button>


      <div className="text-center pt-2">
        <button
          type="button"
          onClick={() => navigate({ to: "/auth/forgetPassword" })}
          className="text-xs text-green-700 hover:underline font-medium"
        >
          Forgot your password?
        </button>
      </div>
    </form>
  </div>
);

const LoginPage: React.FC = () => {
  const navigate = useNavigate();
  const { setUser } = useAuthStore();
  const loginMutation = useLogin();

  const [formData, setFormData] = useState<LoginFormData>({
    email: "",
    password: "",
  });
  const [errors, setErrors] = useState<ValidationErrors>({});
  const [passwordVisible, setPasswordVisible] = useState(false);

  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
    setErrors((prev) => ({ ...prev, [name]: "" }));
  };

  const validateForm = (data: LoginFormData): ValidationErrors => {
    const validationErrors: ValidationErrors = {};
    const emailRegex = /\S+@\S+\.\S+/;

    if (!data.email) {
      validationErrors.email = "Email is required.";
    } else if (!emailRegex.test(data.email)) {
      validationErrors.email = "Invalid email format.";
    }

    if (!data.password) {
      validationErrors.password = "Password is required.";
    }

    return validationErrors;
  };

  const handleSubmit = async (e: FormEvent) => {
    e.preventDefault();
    const validationErrors = validateForm(formData);
    setErrors(validationErrors);
    if (Object.keys(validationErrors).length > 0) return;

    loginMutation.mutate(formData, {
      onSuccess: (response) => {
        toast.success("Login successful! Welcome back.");
        const user = response.data.user
        setUser(user);

        const redirectTo = user.role === "admin"
          ? ROUTES.ADMIN.DASHBOARD
          : ROUTES.USER.HOME;

      
          navigate({ to: redirectTo });
    
        setFormData({ email: "", password: "" });
      },
      onError: (error: unknown) => {
        const msg = getErrorMessage(error);
        toast.error(msg);
      },
    });
  };

  return (
    <div className="min-h-screen bg-white flex items-center justify-center p-3">
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex flex-col lg:flex-row max-w-3xl w-full bg-white shadow-2xl rounded-xl overflow-hidden">
        <GreenPanel />
        <FormPanel
          formData={formData}
          errors={errors}
          handleChange={handleChange}
          handleSubmit={handleSubmit}
          passwordVisible={passwordVisible}
          setPasswordVisible={setPasswordVisible}
          loading={loginMutation.isPending}
          navigate={navigate}
        />
      </div>
    </div>
  );
};

export default LoginPage;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\pages\auth\OtpVerificationPage.tsx ====
import React, { useState, useRef, useEffect } from "react";
import { Mail } from "lucide-react";
import toast, { Toaster } from "react-hot-toast";
import { useAuthStore } from "../../store/useAuthStore";
import photobookLogo from "../../../../assets/photoBook-icon.png";

import { useNavigate } from '@tanstack/react-router'
import { useVerifyOtp, useResendOtp } from "../../hooks/useAuth";
import { ROUTES } from "../../../../constants/routes";



interface VerifyOtpError {
  response?: {
    data?: {
      message?: string
    };
  };
  message?: string
}


const OTP_LENGTH = 6;
const OTP_TIMER_DURATION = 10;

const VerifyOtp: React.FC = () => {
  const navigate = useNavigate();
  const { user, clearUser } = useAuthStore();

  const verifyOtpMutation = useVerifyOtp();
  const resendOtpMutation = useResendOtp();

  const [isVerifying, setIsVerifying] = useState(false);


  const email = user?.email || "";

  const [otp, setOtp] = useState<string[]>(new Array(OTP_LENGTH).fill(""));
  const [timer, setTimer] = useState<number>(OTP_TIMER_DURATION);
  const inputRefs = useRef<Array<HTMLInputElement | null>>([]);

  const fullOtp = otp.join("");
  const fullOtpEntered = fullOtp.length === OTP_LENGTH;

  useEffect(() => {
    if (isVerifying) return;

    if (!email) {
      toast.error("No email found. Please sign up first.");
      const timeoutId = setTimeout(() => {
        navigate({ to: ROUTES.AUTH.SIGNUP });
      }, 1500);
      return () => clearTimeout(timeoutId);
    }
  }, [email, navigate, isVerifying]);

  useEffect(() => {
    if (timer <= 0) return;
    const interval = setInterval(() => setTimer((prev) => prev - 1), 1000);
    return () => clearInterval(interval);
  }, [timer]);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!fullOtpEntered) {
      toast.error("Please enter a complete 6-digit OTP.");
      return;
    }

    if (!email) {
      toast.error("Email is missing. Please sign up again.");
      navigate({ to: ROUTES.AUTH.SIGNUP });
      return;
    }


    setIsVerifying(true);

    verifyOtpMutation.mutate(
      { email, otp: fullOtp },
      {
        onSuccess: () => {
          toast.success("OTP verified successfully!");
          sessionStorage.removeItem("pendingVerificationEmail");
          clearUser();
          navigate({ to: ROUTES.AUTH.LOGIN })
        },
        onError: (error: unknown) => {
          setIsVerifying(false);
          const typedError = error as VerifyOtpError;
          const errorMessage = typedError.response?.data?.message || "OTP verification failed";
          toast.error(errorMessage);
          console.log("OTP verifaication error:", error);
        },
      }
    );
  };

  const handleResend = async () => {
    if (timer > 0) return;

    if (!email) {
      toast.error("Email is missing. Please sign up again.");
      navigate({ to:  ROUTES.AUTH.SIGNUP });
      return;
    }

    resendOtpMutation.mutate(email, {
      onSuccess: (response) => {
        toast.success(response.message || "OTP resent successfully!");
        setOtp(new Array(OTP_LENGTH).fill(""));
        setTimer(OTP_TIMER_DURATION);
        inputRefs.current[0]?.focus();
      },
      onError: (error: unknown) => {
        const typedError = error as VerifyOtpError;
        const errorMessage =
          typedError.response?.data?.message || "Failed to resend OTP";
        toast.error(errorMessage);
      },
    });
  };
  const isLoading = verifyOtpMutation.isPending || resendOtpMutation.isPending;

  if (!email && !isVerifying) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-white">
        <div className="text-center">
          <p className="text-gray-600 mb-4">Redirecting to signup...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex items-center justify-center bg-white p-3">
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex flex-col lg:flex-row max-w-3xl w-full bg-white shadow-2xl rounded-xl overflow-hidden">

        <div
          className="flex-1 text-white p-8 flex flex-col justify-between rounded-l-xl md:rounded-t-xl lg:rounded-l-xl lg:rounded-t-none"
          style={{ backgroundColor: "#006039" }}
        >
          <div>
            <h2 className="text-3xl leading-snug mt-8 mb-2">
              Verify Your
              <br />
              <span className="italic font-bold text-amber-300 font-serif">
                Email OTP
              </span>
            </h2>
            <p className="text-sm leading-relaxed max-w-xs opacity-90">
              Enter the 6-digit OTP sent to your email to continue.
            </p>
          </div>
        </div>

        <div className="flex-1 bg-white p-6 sm:p-8 rounded-r-xl md:rounded-b-xl lg:rounded-r-xl lg:rounded-b-none">
          <div className="flex items-center mb-4">
            <img
              src={photobookLogo}
              alt="PhotoBook Logo"
              style={{ width: 180, height: 120, marginRight: 20 }}
            />
          </div>

          <div className="flex border-b mb-6 text-sm">
            <div className="px-3 py-2 text-green-700 font-semibold border-b-2 border-green-700">
              Verify OTP
            </div>
          </div>

          <p className="text-gray-600 mb-6 flex items-center">
            <Mail size={18} className="mr-1" />
            OTP sent to <span className="font-medium ml-1">{email}</span>
          </p>

          <form onSubmit={handleSubmit}>
            <div className="mb-6">
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Enter OTP
              </label>
              <input
                type="text"
                value={fullOtp}
                onChange={(e) => {
                  const value = e.target.value.replace(/[^0-9]/g, "").slice(0, OTP_LENGTH)
                  setOtp(value.split(""))
                }}
                placeholder="Enter 6-digit OTP"
                maxLength={OTP_LENGTH}
                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none text-lg text-center tracking-widest"
                disabled={isLoading}
                inputMode="numeric"
                pattern="[0-9]*"
                autoComplete="off"
              />
            </div>

            <button
              type="submit"
              disabled={isLoading || !fullOtpEntered}
              className="w-full bg-green-700 text-white py-2.5 rounded-lg font-semibold hover:bg-green-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed"
            >
              {verifyOtpMutation.isPending ? "Verifying..." : "Verify OTP"}
            </button>
          </form>

          <div className="mt-4 text-center text-sm text-gray-600">
            {timer > 0 ? (
              <p>
                Resend OTP in <span className="font-semibold">{timer}s</span>
              </p>
            ) : (
              <button
                onClick={handleResend}
                disabled={isLoading}
                className="text-emerald-600 font-medium hover:underline disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {resendOtpMutation.isPending ? "Sending..." : "Resend OTP"}
              </button>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default VerifyOtp;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\pages\auth\reset-password.tsx ====
import React, { useState, } from 'react';
import { Eye, EyeOff, Lock } from "lucide-react";
import { useNavigate } from "@tanstack/react-router";
import { useResetPassword } from "../../hooks/useAuth";
import toast, { Toaster } from "react-hot-toast";
import photobookLogo from "../../../../assets/photoBook-icon.png";
import { ROUTES } from '../../../../constants/routes';

const Colors = {
  darkGreen: "#2e4a2d",
};


interface ResetPasswordError {
  response?: {
    data?: {
      message?: string
    };
  };
}

const ResetPassword: React.FC = () => {
  const navigate = useNavigate();
  const resetPasswordMutation = useResetPassword();

  const [password, setPassword] = useState<string>('');
  const [confirmPassword, setConfirmPassword] = useState<string>('');
  const [passwordVisible, setPasswordVisible] = useState(false);
  const [confirmPasswordVisible, setConfirmPasswordVisible] = useState(false);
  const [errors, setErrors] = useState<{ password?: string; confirmPassword?: string }>({});

  const getEmail = (): string => {
    return sessionStorage.getItem('resetPasswordEmail') || "";
  };

  const email = getEmail();

  const validateForm = () => {
    const newErrors: { password?: string; confirmPassword?: string } = {};

    if (!password) {
      newErrors.password = "Password is required.";
    } else if (password.length < 8) {
      newErrors.password = "Password must be at least 8 characters long.";
    }

    if (!confirmPassword) {
      newErrors.confirmPassword = "Please confirm your password.";
    } else if (password !== confirmPassword) {
      newErrors.confirmPassword = "Passwords do not match.";
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!validateForm()) {
      toast.error("Please fix the form errors.");
      return;
    }

    resetPasswordMutation.mutate(
      {
        email,
        newPassword: password,
        confirmPassword,
      },
      {
        onSuccess: (response) => {
          toast.success(response.message || "Password reset successful!");

          sessionStorage.removeItem('resetPasswordEmail');
          navigate({ to:  ROUTES.AUTH.LOGIN });

        },
        onError: (error: unknown) => {
          const typedError = error as ResetPasswordError
          const errorMessage = typedError.response?.data?.message || "Failed to reset password. Please try again.";
          toast.error(errorMessage);
          console.error("Reset password error:", error);
        },
      }
    );
  };

  if (!email) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-white">
        <div className="text-center">
          <p className="text-gray-600 mb-4">Redirecting...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-white flex items-center justify-center p-3">
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex flex-col lg:flex-row max-w-3xl w-full bg-white shadow-2xl rounded-xl overflow-hidden">

        {/* Green Panel */}
        <div
          className="flex-1 text-white p-8 flex flex-col justify-between rounded-l-xl md:rounded-t-xl lg:rounded-l-xl lg:rounded-t-none"
          style={{ backgroundColor: Colors.darkGreen }}
        >
          <div>
            <h2 className="text-3xl leading-snug mt-8 mb-2">
              Reset Your
              <br />
              <span className="italic font-bold text-amber-300 font-serif">
                Password
              </span>
            </h2>
            <p className="text-sm leading-relaxed max-w-xs opacity-90">
              Enter your new password below.
            </p>
          </div>
        </div>

        {/* Form Panel */}
        <div className="flex-1 bg-white p-6 sm:p-8 rounded-r-xl md:rounded-b-xl lg:rounded-r-xl lg:rounded-b-none">
          <div className="flex items-center mb-4">
            <img
              src={photobookLogo}
              alt="PhotoBook Logo"
              style={{ width: 180, height: 120, marginRight: 20 }}
            />
          </div>

          <div className="flex border-b mb-6 text-sm">
            <div className="px-3 py-2 text-green-700 font-semibold border-b-2 border-green-700">
              Reset Password
            </div>
          </div>

          <form onSubmit={handleSubmit} className="space-y-4">
            {/* New Password */}
            <div>
              <label htmlFor="password" className="block text-sm font-medium text-gray-700 mb-2">
                New Password
              </label>
              <div className="relative">
                <div className={`w-full flex items-center border ${errors.password ? 'border-red-500' : 'border-gray-300 focus-within:border-green-500'} rounded-md bg-white transition`}>
                  <div className="p-2 text-gray-400">
                    <Lock size={16} />
                  </div>
                  <input
                    id="password"
                    name="password"
                    type={passwordVisible ? "text" : "password"}
                    required
                    value={password}
                    onChange={(e) => {
                      setPassword(e.target.value);
                      setErrors(prev => ({ ...prev, password: undefined }));
                    }}
                    placeholder="Enter new password"
                    className="w-full p-2 text-sm placeholder-gray-500 focus:outline-none bg-transparent"
                    disabled={resetPasswordMutation.isPending}
                  />
                  <button
                    type="button"
                    className="p-2 text-gray-400 hover:text-gray-600"
                    onClick={() => setPasswordVisible(!passwordVisible)}
                  >
                    {passwordVisible ? <EyeOff size={16} /> : <Eye size={16} />}
                  </button>
                </div>
                {errors.password && (
                  <p className="text-red-500 text-xs mt-1 ml-1 font-medium">{errors.password}</p>
                )}
              </div>
            </div>

            {/* Confirm Password */}
            <div>
              <label htmlFor="confirm-password" className="block text-sm font-medium text-gray-700 mb-2">
                Confirm New Password
              </label>
              <div className="relative">
                <div className={`w-full flex items-center border ${errors.confirmPassword ? 'border-red-500' : 'border-gray-300 focus-within:border-green-500'} rounded-md bg-white transition`}>
                  <div className="p-2 text-gray-400">
                    <Lock size={16} />
                  </div>
                  <input
                    id="confirm-password"
                    name="confirm-password"
                    type={confirmPasswordVisible ? "text" : "password"}
                    required
                    value={confirmPassword}
                    onChange={(e) => {
                      setConfirmPassword(e.target.value);
                      setErrors(prev => ({ ...prev, confirmPassword: undefined }));
                    }}
                    placeholder="Confirm new password"
                    className="w-full p-2 text-sm placeholder-gray-500 focus:outline-none bg-transparent"
                    disabled={resetPasswordMutation.isPending}
                  />
                  <button
                    type="button"
                    className="p-2 text-gray-400 hover:text-gray-600"
                    onClick={() => setConfirmPasswordVisible(!confirmPasswordVisible)}
                  >
                    {/* {confirmPasswordVisible ? <EyeOff size={16} /> : <Eye size={16} />} */}
                  </button>
                </div>
                {errors.confirmPassword && (
                  <p className="text-red-500 text-xs mt-1 ml-1 font-medium">{errors.confirmPassword}</p>
                )}
              </div>
            </div>

            <button
              type="submit"
              disabled={resetPasswordMutation.isPending || !password || !confirmPassword}
              className="w-full bg-green-700 text-white py-2.5 rounded-lg font-semibold hover:bg-green-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed mt-6"
            >
              {resetPasswordMutation.isPending ? "Resetting..." : "Reset Password"}
            </button>
          </form>

          <div className="text-center pt-4">
            <button
              onClick={() => navigate({ to: ROUTES.AUTH.LOGIN })}
              className="text-sm font-medium text-gray-600 hover:text-gray-900 transition duration-150"
            >
              &larr; Back to Login
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ResetPassword;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\pages\auth\Signup.tsx ====
import React, { useState, memo } from "react";
import type { ChangeEvent, FormEvent } from "react";
import { Eye, EyeOff, Mail, Phone, Lock, User } from "lucide-react";
import type { ISignupRequest } from "../../types/auth.types";
import photobookLogo from "../../../../assets/photoBook-icon.png";
import { useNavigate } from '@tanstack/react-router'
import { useSignup } from "../../hooks/useAuth";
import toast, { Toaster } from "react-hot-toast";
import { useAuthStore } from "../../store/useAuthStore";
import { ROUTES } from "../../../../constants/routes";


interface SignupFormData {
  name: string;
  email: string;
  phone: string;
  password: string;
  confirmPassword: string;
}



interface SignupError {
  response?: {
    data?: {
      message?: string;
    };
  };
  message?: string
}


type ValidationErrors = Partial<Record<keyof SignupFormData, string>>;

const GreenPanel: React.FC = () => (
  <div
    className="flex-1 text-white p-8 flex flex-col justify-between rounded-l-xl md:rounded-t-xl lg:rounded-l-xl lg:rounded-t-none"
    style={{ backgroundColor: "#006039" }}>
    <div>
      <h2 className="text-3xl leading-snug mt-8 mb-2">
        Welcome to Your
        <br />
        <span className="italic font-bold text-amber-300 font-serif">
          Photography Journey
        </span>
      </h2>
      <p className="text-sm leading-relaxed max-w-xs opacity-90">
        Connect with photographers and capture your perfect moments.
      </p>
    </div>
    <div className="mt-8 hidden lg:block">
      <h3 className="text-xs font-bold uppercase tracking-wider opacity-70 mb-2">
        Latest Logins
      </h3>
      {[
        { title: "Regular User", email: "user@example.com", pass: "user123" },
        { title: "Photographer", email: "photo@example.com", pass: "photo123" },
        { title: "Admin", email: "admin@example.com", pass: "admin123" },
      ].map((user, index) => (
        <div
          key={index}
          className="bg-white/20 p-2 rounded-lg mb-2 border-l-4 border-green-500 transition hover:bg-white/30 shadow-sm"
        >
          <h4 className="font-semibold text-sm mb-1">{user.title}</h4>
          <p className="text-xs leading-tight">Email: {user.email}</p>
          <p className="text-xs leading-tight">Password: {user.pass}</p>
        </div>
      ))}
    </div>
  </div>
);

interface InputFieldProps {
  Icon: React.ElementType;
  placeholder: string;
  name: string;
  value: string;
  onChange: (e: ChangeEvent<HTMLInputElement>) => void;
  type: string;
  error?: string;
}

const InputField: React.FC<InputFieldProps> = memo(
  ({ Icon, placeholder, name, value, onChange, type, error }) => {
    const borderClass = error
      ? "border-red-500"
      : "border-gray-300 focus-within:border-green-500";
    return (
      <div className="w-full">
        <div
          className={`w-full flex items-center border ${borderClass} rounded-md bg-white transition`}
        >
          {Icon && (
            <div className="p-2 text-gray-400">
              <Icon size={16} />
            </div>
          )}
          <input
            type={type}
            name={name}
            placeholder={placeholder}
            value={value}
            onChange={onChange}
            className="w-full p-2 text-sm placeholder-gray-500 focus:outline-none bg-transparent"
          />
        </div>
        {error && (
          <p className="text-red-500 text-xs mt-1 ml-1 font-medium">{error}</p>
        )}
      </div>
    );
  }
);

interface FormPanelProps {
  formData: SignupFormData;
  errors: ValidationErrors;
  handleChange: (e: ChangeEvent<HTMLInputElement>) => void;
  handleSubmit: (e: FormEvent) => void;
  passwordVisible: boolean;
  setPasswordVisible: React.Dispatch<React.SetStateAction<boolean>>;
  loading: boolean;
  navigate: ReturnType<typeof useNavigate>;
}

const FormPanel: React.FC<FormPanelProps> = ({
  formData,
  errors,
  handleChange,
  handleSubmit,
  passwordVisible,
  setPasswordVisible,
  loading,
  navigate,
}) => (
  <div className="flex-1 bg-white p-6 sm:p-8 rounded-r-xl md:rounded-b-xl lg:rounded-r-xl lg:rounded-b-none">
    <div className="flex items-center mb-4">
      <img
        src={photobookLogo}
        alt="PhotoBook Logo"
        style={{ width: 180, height: 120, marginRight: 20 }}
      />
    </div>
    <div className="flex border-b mb-6 sm:mb-6 text-sm">
      <div
        className="px-3 py-2 text-gray-500 font-medium cursor-pointer hover:text-green-600 transition-colors"
        onClick={() => navigate({ to: ROUTES.AUTH.LOGIN })}
      >
        Login
      </div>
      <div className="px-3 py-2 text-green-700 font-semibold border-b-2 border-green-700">
        Sign Up
      </div>
    </div>
    <form onSubmit={handleSubmit} className="space-y-3">
      <InputField
        Icon={User}
        placeholder="Full Name"
        name="name"
        value={formData.name}
        onChange={handleChange}
        type="text"
        error={errors.name}
      />
      <InputField
        Icon={Mail}
        placeholder="Email Address"
        name="email"
        value={formData.email}
        onChange={handleChange}
        type="email"
        error={errors.email}
      />
      <InputField
        Icon={Phone}
        placeholder="Phone Number"
        name="phone"
        value={formData.phone}
        onChange={handleChange}
        type="text"
        error={errors.phone}
      />
      <div className="relative">
        <InputField
          Icon={Lock}
          placeholder="Password"
          name="password"
          value={formData.password}
          onChange={handleChange}
          type={passwordVisible ? "text" : "password"}
          error={errors.password}
        />
        <button
          type="button"
          className="absolute right-3 top-3 text-gray-400 p-1 hover:text-gray-600 transition-colors"
          onClick={() => setPasswordVisible(!passwordVisible)}
        >
          {passwordVisible ? <EyeOff size={16} /> : <Eye size={16} />}
        </button>
      </div>
      <InputField
        Icon={Lock}
        placeholder="Confirm Password"
        name="confirmPassword"
        value={formData.confirmPassword}
        onChange={handleChange}
        type="password"
        error={errors.confirmPassword}
      />
      <button
        type="submit"
        disabled={loading}
        className="w-full bg-green-700 text-white font-semibold py-2.5 rounded-md shadow-md hover:bg-green-800 transition duration-200 mt-4 disabled:opacity-70 disabled:cursor-not-allowed text-sm"
      >
        {loading ? "Creating Account..." : "Create Account"}
      </button>
    </form>
  </div>
);

const Signup: React.FC = () => {
  const navigate = useNavigate();
  const { setUser } = useAuthStore();
  const signupMutation = useSignup();

  const [formData, setFormData] = useState<SignupFormData>({
    name: "",
    email: "",
    phone: "",
    password: "",
    confirmPassword: "",
  });
  const [errors, setErrors] = useState<ValidationErrors>({});
  const [passwordVisible, setPasswordVisible] = useState(false);

  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
    setErrors((prev) => ({ ...prev, [name]: "" }));
  };

  const validateForm = (data: SignupFormData): ValidationErrors => {
    const validationErrors: ValidationErrors = {};
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const phoneRegex = /^\d{10,15}$/;

    if (!data.name || data.name.trim() === "") {
      validationErrors.name = "Full name is required.";
    } else if (data.name.trim().length < 2) {
      validationErrors.name = "Name must be at least 2 characters.";
    }

    if (!data.email || data.email.trim() === "") {
      validationErrors.email = "Email is required.";
    } else if (!emailRegex.test(data.email)) {
      validationErrors.email = "Invalid email format.";
    }

    if (!data.phone || data.phone.trim() === "") {
      validationErrors.phone = "Phone number is required.";
    } else if (!phoneRegex.test(data.phone)) {
      validationErrors.phone = "Phone must be 10-15 digits.";
    }

    if (!data.password) {
      validationErrors.password = "Password is required.";
    } else if (data.password.length < 8) {
      validationErrors.password = "Password must be at least 8 characters.";
    }

    if (!data.confirmPassword) {
      validationErrors.confirmPassword = "Please confirm your password.";
    } else if (data.password !== data.confirmPassword) {
      validationErrors.confirmPassword = "Passwords do not match.";
    }

    return validationErrors;
  };

  const handleSubmit = async (e: FormEvent) => {
    e.preventDefault();

    const validationErrors = validateForm(formData);
    setErrors(validationErrors);

    if (Object.keys(validationErrors).length > 0) {
      toast.error("Please fix the form errors");
      return;
    }

    const signupData: ISignupRequest = {
      name: formData.name.trim(),
      email: formData.email.trim().toLowerCase(),
      phone: formData.phone.trim(),
      password: formData.password,
    };

    console.log("Submitting signup data:", signupData);

    signupMutation.mutate(signupData, {
      onSuccess: (response) => {
        console.log("‚úÖ Signup successful:", response);

        setUser({
          email: signupData.email,
          name: signupData.name,
        });

        sessionStorage.setItem("pendingVerificationEmail", signupData.email);
        toast.success("Account created! Check your email for OTP.");

        setFormData({
          name: "",
          email: "",
          phone: "",
          password: "",
          confirmPassword: "",
        });

        setTimeout(() => {
          navigate({ to:ROUTES.AUTH.VERIFY_OTP });
        }, 1000);
      },
      onError: (error: unknown) => {
        console.error("‚ùå Signup error:", error);
        const typedError = error as SignupError;
        const errorMessage =
          typedError?.response?.data?.message ||
          typedError?.message ||
          "Signup failed. Please try again.";

        toast.error(errorMessage);
      },
    });
  };

  return (
    <div className="min-h-screen bg-white flex items-center justify-center p-3">
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex flex-col lg:flex-row max-w-3xl w-full bg-white shadow-2xl rounded-xl overflow-hidden">
        <GreenPanel />
        <FormPanel
          formData={formData}
          errors={errors}
          handleChange={handleChange}
          handleSubmit={handleSubmit}
          passwordVisible={passwordVisible}
          setPasswordVisible={setPasswordVisible}
          loading={signupMutation.isPending}
          navigate={navigate}
        />
      </div>
    </div>
  );
};

export default Signup;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\pages\auth\VerifyResetOtp.tsx ====
import React, { useState, useEffect } from "react";
import { Mail } from "lucide-react";
import toast, { Toaster } from "react-hot-toast";
import photobookLogo from "../../../../assets/photoBook-icon.png";
import { useNavigate } from '@tanstack/react-router';
import { useVerifyResetOtp, useForgetPassword } from "../../hooks/useAuth";
import { ROUTES } from "../../../../constants/routes";

const OTP_LENGTH = 6;
const OTP_TIMER_DURATION = 30;


interface ResetOtpError {
  response?: {
    data?: {
      message?: string
    };
  };

}

interface ResendOtpError {
  response?: {
    data: {
      message?: string
    };
  };
}


const VerifyResetOtp: React.FC = () => {
  const navigate = useNavigate();
  const verifyResetOtpMutation = useVerifyResetOtp();
  const resendOtpMutation = useForgetPassword();

  const [isVerifying, setIsVerifying] = useState(false);

  const getEmail = (): string => {
    const sessionEmail = sessionStorage.getItem('resetPasswordEmail');
    if (sessionEmail) return sessionEmail;
    return "";
  };

  const email = getEmail();
  const [otp, setOtp] = useState<string>("");
  const [timer, setTimer] = useState<number>(OTP_TIMER_DURATION);

  const fullOtpEntered = otp.length === OTP_LENGTH;

  useEffect(() => {
    if (isVerifying) return;

    if (!email) {
      toast.error("No email found. Please start the password reset process.");
      const timeoutId = setTimeout(() => {
        navigate({ to: ROUTES.AUTH.RESET_PASSWORD });
      }, 1500);
      return () => clearTimeout(timeoutId);
    }
  }, [email, navigate, isVerifying]);

  useEffect(() => {
    if (timer <= 0) return;
    const interval = setInterval(() => setTimer((prev) => prev - 1), 1000);
    return () => clearInterval(interval);
  }, [timer]);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!fullOtpEntered) {
      toast.error("Please enter a complete 6-digit OTP.");
      return;
    }

    if (!email) {
      toast.error("Email is missing. Please start over.");
      navigate({ to: ROUTES.AUTH.RESET_PASSWORD });
      return;
    }

    setIsVerifying(true);

    verifyResetOtpMutation.mutate(
      { email, otp },
      {
        onSuccess: (response) => {
          toast.success(response.message || "OTP verified! Set your new password.");

          // Navigate to reset password page
          navigate({ to: ROUTES.AUTH.RESET_PASSWORD });
        },
        onError: (error: unknown) => {
          console.log("Reset OTP error")
          const typedError = error as ResetOtpError
          const errorMessage = typedError.response?.data?.message || "Reset Otp failed"
          setIsVerifying(false);
          toast.error(errorMessage);
          console.error("OTP verification error:", error);
        },
      }
    );
  };

  const handleResend = async () => {
    if (timer > 0) return;

    if (!email) {
      toast.error("Email is missing. Please start over.");
      navigate({ to: ROUTES.AUTH.RESET_PASSWORD });
      return;
    }

    resendOtpMutation.mutate(
      { email },
      {
        onSuccess: (response) => {
          toast.success(response.message || "OTP resent successfully!");
          setOtp("");
          setTimer(OTP_TIMER_DURATION);
        },
        onError: (error: unknown) => {
          const typedError = error as ResendOtpError
          const errorMessage = typedError.response?.data?.message || "Failed to resend OTP";
          toast.error(errorMessage);
        },
      }
    );
  };

  const isLoading = verifyResetOtpMutation.isPending || resendOtpMutation.isPending;

  if (!email && !isVerifying) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-white">
        <div className="text-center">
          <p className="text-gray-600 mb-4">Redirecting...</p>
        </div>
      </div>
    );
  }

  const formatTime = (seconds: number) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins}:${secs.toString().padStart(2, '0')}`;
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-white p-3">
      <Toaster position="top-center" reverseOrder={false} />
      <div className="flex flex-col lg:flex-row max-w-3xl w-full bg-white shadow-2xl rounded-xl overflow-hidden">

        <div className="flex-1 text-white p-8 flex flex-col justify-between rounded-l-xl md:rounded-t-xl lg:rounded-l-xl lg:rounded-t-none" style={{ backgroundColor: "#006039" }}>
          <div>
            <h2 className="text-3xl leading-snug mt-8 mb-2">
              Verify Your
              <br />
              <span className="italic font-bold text-amber-300 font-serif">Reset Code</span>
            </h2>
            <p className="text-sm leading-relaxed max-w-xs opacity-90">
              Enter the 6-digit code sent to your email.
            </p>
          </div>
        </div>

        <div className="flex-1 bg-white p-6 sm:p-8 rounded-r-xl md:rounded-b-xl lg:rounded-r-xl lg:rounded-b-none">
          <div className="flex items-center mb-4">
            <img src={photobookLogo} alt="PhotoBook Logo" style={{ width: 180, height: 120, marginRight: 20 }} />
          </div>

          <div className="flex border-b mb-6 text-sm">
            <div className="px-3 py-2 text-green-700 font-semibold border-b-2 border-green-700">
              Verify Code
            </div>
          </div>

          <p className="text-gray-600 mb-6 flex items-center">
            <Mail size={18} className="mr-1" />
            Code sent to <span className="font-medium ml-1">{email}</span>
          </p>

          <form onSubmit={handleSubmit}>
            <div className="mb-6">
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Enter Reset Code
              </label>
              <input
                type="text"
                value={otp}
                onChange={(e) => {
                  const value = e.target.value.replace(/[^0-9]/g, "").slice(0, OTP_LENGTH);
                  setOtp(value);
                }}
                placeholder="Enter 6-digit code"
                maxLength={OTP_LENGTH}
                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none text-lg text-center tracking-widest"
                disabled={isLoading}
                inputMode="numeric"
                pattern="[0-9]*"
                autoComplete="off"
              />
            </div>

            <button
              type="submit"
              disabled={isLoading || !fullOtpEntered}
              className="w-full bg-green-700 text-white py-2.5 rounded-lg font-semibold hover:bg-green-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed"
            >
              {verifyResetOtpMutation.isPending ? "Verifying..." : "Verify Code"}
            </button>
          </form>

          <div className="mt-4 text-center text-sm text-gray-600">
            {timer > 0 ? (
              <p>
                Resend code in <span className="font-semibold">{formatTime(timer)}</span>
              </p>
            ) : (
              <button
                onClick={handleResend}
                disabled={isLoading}
                className="text-emerald-600 font-medium hover:underline disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {resendOtpMutation.isPending ? "Sending..." : "Resend Code"}
              </button>
            )}
          </div>

          <div className="text-center pt-4">
            <button
              onClick={() => navigate({ to: ROUTES.AUTH.FORGOT_PASSWORD })}
              className="text-sm font-medium text-gray-600 hover:text-gray-900 transition duration-150"
            >
              &larr; Back
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default VerifyResetOtp;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\repositories\implementation\authRepository.ts ====

import apiClient from "../../../../services/apiClient";
import type{ ISignupRequest,IAuthResponse,ILoginRequest,IVerifyOtpRequest, IForgetPassword, IVerifyResetOtp, IResetPassword } from "../../types/auth.types";
import type {IAuthRespository} from "../interface/IAuthRepository"

export class AuthRepository implements IAuthRespository{


  async signup(data: ISignupRequest): Promise<IAuthResponse> {
    const res = await apiClient.post<IAuthResponse>("/auth/signup", data);
    console.log("res from front end repository",res.data)
    return res.data;
  }
  async verifyOtp(data: IVerifyOtpRequest): Promise<IAuthResponse> {
    const res = await apiClient.post<IAuthResponse>("/auth/verify-otp", data);
    return res.data;
  }
  async login(data: ILoginRequest): Promise<IAuthResponse> {
    const res = await apiClient.post<IAuthResponse>("/auth/login", data);
    console.log("from authrespository",res.data)
    return res.data;

  }
  async resendOtp(email: string): Promise<{ message: string }> {
    console.log("from repo frontend",email)
    const res = await apiClient.post<{ message: string }>("/auth/resend-otp",{email} );

    return res.data;
  }

  async logout(): Promise<{ message: string }> {
    const res = await apiClient.post<{ message: string }>("/auth/logout");
    return res.data;
  }

   async forgetPassword(data:IForgetPassword): Promise<{ message: string; }> {
    const res  = await apiClient.post<{message:string}>("/auth/forget-password",data)
    return res.data
  }

  async verifyResetOtp(data:IVerifyResetOtp): Promise<{ message: string; }> {
    const res = await apiClient.post<{message:string}>("/auth/verify-reset-otp",data)
    return res.data
  }

  async resetPassword(data:IResetPassword): Promise<{ message: string; }> {
    const res = await apiClient.post<{message:string}>("/auth/reset-password",data)
    return res.data
  }
}

export const authRepository = new AuthRepository();




==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\repositories\interface\IAuthRepository.ts ====
import type { IAuthResponse,IForgetPassword,ILoginRequest,IResetPassword,ISignupRequest,IVerifyOtpRequest, IVerifyResetOtp } from "../../types/auth.types";
export interface IAuthRespository {
  signup(data: ISignupRequest): Promise<IAuthResponse>;
  verifyOtp(data: IVerifyOtpRequest): Promise<IAuthResponse>;
  login(data: ILoginRequest): Promise<IAuthResponse>;
  resendOtp(email:string):Promise<{message:string}>;
  logout():Promise<{message:string}>;
  forgetPassword(data:IForgetPassword):Promise<{message:string}>;
  verifyResetOtp(data:IVerifyResetOtp):Promise<{message:string}>;
  resetPassword(data:IResetPassword):Promise<{message:string}>;
  }


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\services\authService.ts ====
import { authRepository } from "../repositories/implementation/authRepository";
import type { ISignupRequest, IAuthResponse, ILoginRequest, IVerifyOtpRequest, IForgetPassword, IVerifyResetOtp, IResetPassword } from "../types/auth.types";
import type { IAuthService } from "./IAuthsevice";

class AuthService implements IAuthService {

  
  async signup(data: ISignupRequest): Promise<IAuthResponse> {
    return authRepository.signup(data);
  }
  async verifyOtp(data: IVerifyOtpRequest): Promise<IAuthResponse> {
    return authRepository.verifyOtp(data);
  }
  async login(data: ILoginRequest): Promise<IAuthResponse> {
    return authRepository.login(data);
  }
  async resendOtp(email: string): Promise<{ message: string }> {
    return authRepository.resendOtp(email);
  }
  async logout(): Promise<{ message: string }> {
    return authRepository.logout();
  }

  async forgetPassword(data:IForgetPassword): Promise<{ message: string; }> {
    return authRepository.forgetPassword(data);
  }

  async verifyResetOtp(data:IVerifyResetOtp): Promise<{ message: string; }> {
    return authRepository.verifyResetOtp(data)
  }

  async resetPassword(data:IResetPassword): Promise<{ message: string; }> {
    return authRepository.resetPassword(data)
  }


  async getCurrentUser(): Promise<IAuthResponse | null> {
    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/user/refresh-token`, {
        method: "POST",
        credentials: "include",
        headers: { "Content-Type": "application/json" }
      })

      if (!res.ok) {
        return null
      }

      return await res.json();
    } catch (error: unknown) {
      console.log("Error in refreshing Token", error);
      return null;
    }

  }
}
export const authService = new AuthService();


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\services\IAuthsevice.ts ====
import type { ISignupRequest, IAuthResponse, ILoginRequest, IVerifyOtpRequest, IForgetPassword, IVerifyResetOtp, IResetPassword } from "../types/auth.types";

export interface IAuthService {
  signup(data: ISignupRequest): Promise<IAuthResponse>;
  verifyOtp(data: IVerifyOtpRequest): Promise<IAuthResponse>;
  login(data: ILoginRequest): Promise<IAuthResponse>;
  getCurrentUser(): Promise<IAuthResponse | null>;
  forgetPassword(data:IForgetPassword): Promise<{ message: string }>
  verifyResetOtp(data:IVerifyResetOtp): Promise<{ message: string }>
  resetPassword(data:IResetPassword): Promise<{ message: string }>
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\store\useAuthStore.ts ====
import { create } from "zustand";
import { persist } from "zustand/middleware";
import type { IUser } from "../types/user.types";
import { authService } from "../services/authService";

interface AuthState {
  user: Partial<IUser>|null;
  isAuthenticated: boolean;
  role: "user" | "admin" | "photographer" | null;
  setUser: (user: IUser) => void;
  clearUser: () => void;
  logout: () => Promise<void>;
  rehydrateUser: () => Promise<void>;
}

interface CacheData {
  user: IUser;
  expires: number;
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set) => ({
      user: null,
      isAuthenticated: false,
      role: null,

      setUser: (user: IUser) =>
        set({
          user,
          isAuthenticated: true,
          role: user.role as "user" | "admin" | "photographer",
        }),

      clearUser: () =>
        set({
          user: null,
          isAuthenticated: false,
          role: null,
        }),

      logout: async () => {
        try {
          await authService.logout();
          set({ user: null, isAuthenticated: false, role: null });
        } catch (error) {
          console.error("Logout failed:", error);
          throw error;
        }
      },

      rehydrateUser: async () => {
        const cached = sessionStorage.getItem("auth-cache");
        if (cached) {
          try {
            const { user, expires }: CacheData = JSON.parse(cached);
            if (Date.now() < expires) {
              set({
                user,
                isAuthenticated: true,
                role: user.role as "user" | "admin" | "photographer",
              });
              return;
            }
          } catch (err) {
            console.error("Failed to parse cache:", err);
          }
        }

        try {
          const data = await authService.getCurrentUser();
          if (data?.data?.user) {
            const cache: CacheData = {
              user: data.data.user,
              expires: Date.now() + 5 * 60 * 1000,
            };
            sessionStorage.setItem("auth-cache", JSON.stringify(cache));
            set({
              user: data.data.user,
              isAuthenticated: true,
              role: data.data.user.role as "user" | "admin" | "photographer",
            });
          } else {
            set({ user: null, isAuthenticated: false, role: null });
          }
        } catch (err) {
          console.error("Failed to rehydrate user:", err);
          set({ user: null, isAuthenticated: false, role: null });
        }
      },
    }),
    {
      name: "auth-storage",
      partialize: (state) => ({
        user: state.user,
        isAuthenticated: state.isAuthenticated,
        role: state.role,
      }),
    }
  )
);

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\types\apiError.ts ====
import { AxiosError } from "axios";
export type ApiError = AxiosError<{
message?:string;
error?:string
}>

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\types\auth.types.ts ====
export interface IAuthResponse {
  success: boolean;
  message?: string;
  data: {
    user: {
      _id: string;
      name: string;
      email: string;
      phone: string;
      role: "user" | "admin" | "photographer";
    };
  };
}

export interface ISignupRequest { name: string; email: string; password: string; phone: string; }
export interface ILoginRequest { email: string; password: string; }
export interface IVerifyOtpRequest { email: string; otp: string; }
export interface IForgetPassword {
  email: string
};

export interface IVerifyResetOtp {
  email: string,
  otp: string
};

export interface IResetPassword {
  email: string,
  newPassword: string,
  confirmPassword: string,
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\auth\types\user.types.ts ====
export interface IUser {
  _id: string;
  name: string;
  email: string;
  phone: string;
  role: "user" | "admin" | "photographer"; 
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\modules\user\Home.tsx ====
import Footer from "../../layouts/user/Footer";
import Header from "../../layouts/user/Header";

const categories = [
  { 
    icon: 'fas fa-ring', 
    title: 'Wedding', 
    subtitle: 'Capture your special day',
    bgImage: 'https://images.pexels.com/photos/2253870/pexels-photo-2253870.jpeg?auto=compress&cs=tinysrgb&w=400'
  },
  { 
    icon: 'fas fa-birthday-cake', 
    title: 'Birthday', 
    subtitle: 'Celebrate life moments',
    bgImage: 'https://images.pexels.com/photos/587741/pexels-photo-587741.jpeg?auto=compress&cs=tinysrgb&w=600'
  },
  { 
    icon: 'fas fa-briefcase', 
    title: 'Corporate', 
    subtitle: 'Professional photography',
    bgImage: 'https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=600'
  },
  { 
    icon: 'fas fa-mountain', 
    title: 'Outdoor', 
    subtitle: 'Nature & adventure shots',
    bgImage: 'https://images.pexels.com/photos/1459505/pexels-photo-1459505.jpeg?auto=compress&cs=tinysrgb&w=600'
  },
];

const photographers = [
  { 
    name: 'Sarah Johnson', 
    role: 'Wedding Photographer', 
    rating: 4.9, 
    reviews: 214, 
    topPro: true,
    image: 'https://randomuser.me/api/portraits/women/44.jpg'
  },
  { 
    name: 'Michael Chen', 
    role: 'Portrait Specialist', 
    rating: 4.8, 
    reviews: 305, 
    topPro: true,
    image: 'https://randomuser.me/api/portraits/men/32.jpg'
  },
  { 
    name: 'Emma Davis', 
    role: 'Adventure & Nature', 
    rating: 4.7, 
    reviews: 188, 
    topPro: true,
    image: 'https://randomuser.me/api/portraits/women/68.jpg'
  },
];

const stats = [
  { number: '500+', label: 'Professional Photographers' },
  { number: '20K+', label: 'Happy Clients' },
  { number: '4.9/5', label: 'Average Rating', accent: true },
];

const Colors = {
  darkGreen: '#2e4a2d',
  lightGreen: '#5c8c5c',
  gold: '#dfb51dff',
  bgCream: '#e5efe1',
};

const HomePage = () => {
  return (
    <div className="min-h-screen">
      <Header />

      {/* Hero Section with Background Photo */}
      <section className="relative py-24 px-4 overflow-hidden min-h-[500px] flex items-center justify-center">
        {/* Background Image */}
        <div 
          className="absolute inset-0 bg-cover bg-center"
          style={{
           backgroundColor:Colors.darkGreen
          }}
        ></div>
        
        {/* Dark Green Overlay */}
        <div 
          className="absolute inset-0" 
          style={{ backgroundColor: Colors.darkGreen, opacity: 0.85 }}
        ></div>
        
        {/* Content */}
        <div className="relative z-10 bg-white max-w-4xl mx-auto p-8 md:p-12 rounded-xl shadow-2xl text-center">
          <h2 className="text-4xl font-light mb-2" style={{ color: Colors.darkGreen }}>
            Capture <span className="font-bold" style={{ color: Colors.gold }}>Perfect Moments</span>
          </h2>
          <p className="text-gray-600 mb-8 max-w-2xl mx-auto text-sm">
            Connect with professional photographers for weddings, events, and special occasions. Premium quality, luxury service.
          </p>

          <div className="flex flex-col md:flex-row gap-3 items-center">
            <select className="p-3 border border-gray-300 rounded-md flex-1 w-full text-gray-500 text-sm">
              <option>Event Type...</option>
            </select>
            <input 
              type="text" 
              placeholder="Location..." 
              className="p-3 border border-gray-300 rounded-md flex-1 w-full"
            />
            <input 
              type="text" 
              placeholder="Date/Time" 
              className="p-3 border border-gray-300 rounded-md flex-1 w-full text-gray-500"
            />
            <button 
              className="px-6 py-3 font-bold rounded-md flex-shrink-0 w-full md:w-auto flex items-center justify-center space-x-2 transition duration-200 hover:opacity-90"
              style={{ backgroundColor: Colors.gold, color: Colors.darkGreen }}
            >
              <i className="fas fa-search"></i>
              <span>Search</span>
            </button>
          </div>
        </div>
      </section>
  
      {/* Popular Categories Section with Video Background */}
      <section className="relative py-16 px-4 text-center overflow-hidden min-h-[500px]">
        {/* Video Background */}
        <div className="absolute inset-0 w-full h-full overflow-hidden">
      
          
          {/* Fallback background if video doesn't load */}
          <div 
            className="absolute inset-0 bg-cover bg-center"
            style={{
              backgroundImage: 'url(https://images.pexels.com/photos/2959192/pexels-photo-2959192.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)'
            }}
          ></div>
          
          {/* White/Light overlay for elegant wedding theme */}
          <div className="absolute inset-0 bg-white bg-opacity-50 backdrop-blur-sm"></div>
        </div>

        {/* Content on top of video */}
        <div className="relative z-10">
          <h3 className="text-3xl font-bold mb-4 drop-shadow-lg" style={{ color: Colors.darkGreen }}>
            Popular Categories
          </h3>
          <p className="text-gray-700 text-sm mb-8 max-w-2xl mx-auto drop-shadow-md font-medium">
            Discover the perfect photography service for your special moments
          </p>
          
          <div className="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-6xl mx-auto">
            {categories.map((cat) => (
              <div 
                key={cat.title} 
                className="relative overflow-hidden rounded-xl shadow-2xl border-2 border-white transition-all duration-300 hover:shadow-2xl hover:scale-105 group cursor-pointer h-48"
              >
                {/* Background Image */}
                <div 
                  className="absolute inset-0 bg-cover bg-center"
                  style={{
                    backgroundImage: `url(${cat.bgImage})`
                  }}
                ></div>
                
                {/* Overlay for better text readability - Green tinted */}
                <div 
                  className="absolute inset-0 bg-gradient-to-t from-green-900 via-green-800/80 to-green-700/60 group-hover:from-green-900/90 group-hover:via-green-800/70 transition-all duration-300"
                ></div>
                
                {/* Content */}
                <div className="relative z-10 h-full flex flex-col items-center justify-center p-6">
                  <div 
                    className="w-14 h-14 rounded-full mx-auto mb-3 flex items-center justify-center text-white text-2xl shadow-lg"
                    style={{ backgroundColor: Colors.gold }}
                  >
                    <i className={cat.icon}></i>
                  </div>
                  <h4 className="font-bold text-lg mb-1 text-white">
                    {cat.title}
                  </h4>
                  <p className="text-white/90 text-sm">{cat.subtitle}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>
      
      {/* Featured Photographers Section */}
      <section className="py-16 px-4 text-center bg-gray-50">
        <h3 className="text-3xl font-bold mb-4" style={{ color: Colors.darkGreen }}>
          Featured Photographers
        </h3>
        <p className="text-gray-600 text-sm mb-10 max-w-2xl mx-auto">
          Meet our top-rated professional photographers
        </p>
        
        <div className="flex flex-wrap justify-center gap-8 max-w-6xl mx-auto">
          {photographers.map((p) => (
            <div 
              key={p.name} 
              className="bg-white p-6 rounded-lg shadow-md w-72 flex flex-col items-center transition-all duration-300 hover:shadow-xl hover:scale-105"
            >
              <div className="relative mb-4">
                <img 
                  src={p.image}
                  alt={p.name}
                  className="w-24 h-24 rounded-full object-cover mx-auto"
                  style={{ border: `4px solid ${Colors.gold}` }}
                  onError={(e) => {
                    e.currentTarget.src = 'https://ui-avatars.com/api/?name=' + p.name.replace(' ', '+') + '&size=200&background=random';
                  }}
                />
                {p.topPro && (
                  <span 
                    className="absolute top-0 -right-2 px-3 py-1 text-xs font-bold rounded-full shadow-lg"
                    style={{ backgroundColor: Colors.gold, color: Colors.darkGreen }}
                  >
                    TOP PRO
                  </span>
                )}
              </div>
              
              <h4 className="font-bold text-xl mb-1" style={{ color: Colors.darkGreen }}>
                {p.name}
              </h4>
              <p className="text-gray-500 text-sm mb-3">{p.role}</p>
              <div className="flex items-center text-sm font-semibold mb-4" style={{ color: Colors.lightGreen }}>
                <i className="fas fa-star mr-1"></i> {p.rating} <span className="text-gray-400 ml-1">({p.reviews} reviews)</span>
              </div>
              <button 
                className="px-8 py-2 font-semibold rounded-md text-white transition-all duration-200 hover:opacity-90 hover:shadow-lg w-full"
                style={{ backgroundColor: Colors.lightGreen }}
              >
                View Profile
              </button>
            </div>
          ))}
        </div>
      </section>

      {/* Stats Section */}
      <section className="py-16 px-4 text-center bg-white">
        <div className="flex flex-wrap justify-center gap-12 md:gap-24 max-w-4xl mx-auto">
          {stats.map((stat) => (
            <div key={stat.label} className="flex flex-col items-center">
              <div 
                className="text-5xl font-extrabold mb-2" 
                style={{ color: stat.accent ? Colors.lightGreen : Colors.darkGreen }}
              >
                {stat.number}
              </div>
              <p className="text-gray-600 text-sm font-medium">{stat.label}</p>
            </div>
          ))}
        </div>
      </section>

      <Footer />
    </div>
  );
};

export default HomePage;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\router.ts ====
import { createRouter } from "@tanstack/react-router";
import { routeTree } from "./routeTree.gen";

export const router = createRouter({ routeTree });

declare module "@tanstack/react-router" {
  interface Register {
    router: typeof router;
  }
}



==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\about.tsx ====
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/about')({
  component: RouteComponent,
})

function RouteComponent() {
  return <div>Hello "/about"!</div>
}


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\admin\__layout\dashboard.tsx ====
import { createFileRoute } from '@tanstack/react-router';
import DashboardLayout from '../../../modules/admin/pages/dashBoard';

export const Route = createFileRoute('/admin/__layout/dashboard')({
  component: DashboardLayout,
});

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\admin\__layout\usermanagement.tsx ====
import { createFileRoute } from '@tanstack/react-router';
import UserManagement from '../../../modules/admin/pages/userManagemnet';

export const Route = createFileRoute('/admin/__layout/usermanagement')({
  component: UserManagement,
});

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\admin\__layout.tsx ====
import { createFileRoute, Outlet, redirect } from '@tanstack/react-router'
import AdminHeader from '../../layouts/admin/AdminHeader.tsx'
import AdminSidebar from '../../layouts/admin/AdminSideBar.tsx'

interface CacheData {
  user: {
    role: string;
    [key: string]: unknown;
  };
  expires: number;
}

export const Route = createFileRoute('/admin/__layout')({
  loader: async ({ location }) => {
    const cached = sessionStorage.getItem("auth-cache");
    if (cached) {
      try {
        const { user, expires }: CacheData = JSON.parse(cached);
        if (Date.now() < expires && user.role === "admin") {
          return { user };
        }
      } catch (error) {
        console.error("Failed to parse cache:", error);
      }
    }

    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/auth/refresh-token`, {
        method: "POST",
        credentials: "include",
      });

      if (!res.ok) {
        throw redirect({ to: "/auth/login", search: { redirect: location.href } });
      }

      const data = await res.json();
      if (data.data.user.role !== "admin") {
        throw redirect({ to: "/auth/login" });
      }

      const cacheData: CacheData = {
        user: data.data.user,
        expires: Date.now() + 5 * 60 * 1000,
      };
      sessionStorage.setItem("auth-cache", JSON.stringify(cacheData));

      return { user: data.data.user };
    } catch (error) {
      if (error instanceof Response) {
        throw error;
      }
      throw redirect({ to: "/auth/login" });
    }
  },

  component: () => (
    <div className="flex min-h-screen bg-gray-50">
      <AdminSidebar />
      <div className="flex-1 flex flex-col">
        <AdminHeader />
        <main className="flex-1 p-6">
          <Outlet />
        </main>
      </div>
    </div>
  ),
});

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\forgetPassword.tsx ====
import { createFileRoute } from '@tanstack/react-router'
import ForgotPassword from '../../modules/auth/pages/auth/ForgetPassword'
export const Route = createFileRoute('/auth/forgetPassword')({
  component: ForgotPassword,
})



==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\login.tsx ====
import { createFileRoute } from "@tanstack/react-router";
import LoginPage from "../../modules/auth/pages/auth/LoginPage";

export const Route = createFileRoute("/auth/login")({
  component: LoginPage,
});

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\reset-otp.tsx ====
import { createFileRoute } from '@tanstack/react-router'
import VerifyResetOtp from '../../modules/auth/pages/auth/VerifyResetOtp'

export const Route = createFileRoute('/auth/reset-otp')({
  component: VerifyResetOtp,
})




==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\resetPassword.tsx ====
import { createFileRoute } from '@tanstack/react-router'
import ResetPassword from '../../modules/auth/pages/auth/reset-password'
export const Route = createFileRoute('/auth/resetPassword')({
  component: ResetPassword,
})




==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\signup.tsx ====
import { createFileRoute } from "@tanstack/react-router";
import Signup from "../../modules/auth/pages/auth/Signup";

export const Route = createFileRoute("/auth/signup")({
  component: Signup,
});

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\verify-otp.tsx ====
import { createFileRoute } from "@tanstack/react-router";
import VerifyOtp from "../../modules/auth/pages/auth/OtpVerificationPage";

export const Route = createFileRoute("/auth/verify-otp")({
  component: VerifyOtp,
});


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\auth\__layout.tsx ====
import { Outlet, createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/auth/__layout')({
  component: () => (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
      <Outlet/>
    </div>
  ),
})


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\main\home.tsx ====
import { createFileRoute } from "@tanstack/react-router";
import HomePage from "../../modules/user/Home";

export const Route = createFileRoute("/main/home")({
  component: HomePage,
  
});


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\main\__layout.tsx ====
import { Outlet, createFileRoute } from "@tanstack/react-router";
import Header from "../../layouts/user/Header";
import Footer from "../../layouts/user/Footer";

export const Route = createFileRoute("/main/__layout")({
  component: () => (
    <div className="min-h-screen flex flex-col">
      <Header />
      <main className="flex-grow">
        <Outlet />
      </main>
      <Footer />
    </div>
  ),
});


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routes\__root.tsx ====
import { createRootRoute,  Outlet } from "@tanstack/react-router";

export const Route = createRootRoute({
  component: () => <Outlet/>,
});



==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\routeTree.gen.ts ====
/* eslint-disable */

// @ts-nocheck

// noinspection JSUnusedGlobalSymbols

// This file was automatically generated by TanStack Router.
// You should NOT make any changes in this file as it will be overwritten.
// Additionally, you should also exclude this file from your linter and/or formatter to prevent it from being checked or modified.

import { createFileRoute } from '@tanstack/react-router'

import { Route as rootRouteImport } from './routes/__root'
import { Route as AboutRouteImport } from './routes/about'
import { Route as MainHomeRouteImport } from './routes/main/home'
import { Route as Main_layoutRouteImport } from './routes/main/__layout'
import { Route as AuthVerifyOtpRouteImport } from './routes/auth/verify-otp'
import { Route as AuthSignupRouteImport } from './routes/auth/signup'
import { Route as AuthResetPasswordRouteImport } from './routes/auth/resetPassword'
import { Route as AuthResetOtpRouteImport } from './routes/auth/reset-otp'
import { Route as AuthLoginRouteImport } from './routes/auth/login'
import { Route as AuthForgetPasswordRouteImport } from './routes/auth/forgetPassword'
import { Route as Auth_layoutRouteImport } from './routes/auth/__layout'
import { Route as Admin_layoutRouteImport } from './routes/admin/__layout'
import { Route as Admin_layoutUsermanagementRouteImport } from './routes/admin/__layout/usermanagement'
import { Route as Admin_layoutDashboardRouteImport } from './routes/admin/__layout/dashboard'

const MainRouteImport = createFileRoute('/main')()
const AuthRouteImport = createFileRoute('/auth')()
const AdminRouteImport = createFileRoute('/admin')()

const MainRoute = MainRouteImport.update({
  id: '/main',
  path: '/main',
  getParentRoute: () => rootRouteImport,
} as any)
const AuthRoute = AuthRouteImport.update({
  id: '/auth',
  path: '/auth',
  getParentRoute: () => rootRouteImport,
} as any)
const AdminRoute = AdminRouteImport.update({
  id: '/admin',
  path: '/admin',
  getParentRoute: () => rootRouteImport,
} as any)
const AboutRoute = AboutRouteImport.update({
  id: '/about',
  path: '/about',
  getParentRoute: () => rootRouteImport,
} as any)
const MainHomeRoute = MainHomeRouteImport.update({
  id: '/home',
  path: '/home',
  getParentRoute: () => MainRoute,
} as any)
const Main_layoutRoute = Main_layoutRouteImport.update({
  id: '/__layout',
  getParentRoute: () => MainRoute,
} as any)
const AuthVerifyOtpRoute = AuthVerifyOtpRouteImport.update({
  id: '/verify-otp',
  path: '/verify-otp',
  getParentRoute: () => AuthRoute,
} as any)
const AuthSignupRoute = AuthSignupRouteImport.update({
  id: '/signup',
  path: '/signup',
  getParentRoute: () => AuthRoute,
} as any)
const AuthResetPasswordRoute = AuthResetPasswordRouteImport.update({
  id: '/resetPassword',
  path: '/resetPassword',
  getParentRoute: () => AuthRoute,
} as any)
const AuthResetOtpRoute = AuthResetOtpRouteImport.update({
  id: '/reset-otp',
  path: '/reset-otp',
  getParentRoute: () => AuthRoute,
} as any)
const AuthLoginRoute = AuthLoginRouteImport.update({
  id: '/login',
  path: '/login',
  getParentRoute: () => AuthRoute,
} as any)
const AuthForgetPasswordRoute = AuthForgetPasswordRouteImport.update({
  id: '/forgetPassword',
  path: '/forgetPassword',
  getParentRoute: () => AuthRoute,
} as any)
const Auth_layoutRoute = Auth_layoutRouteImport.update({
  id: '/__layout',
  getParentRoute: () => AuthRoute,
} as any)
const Admin_layoutRoute = Admin_layoutRouteImport.update({
  id: '/__layout',
  getParentRoute: () => AdminRoute,
} as any)
const Admin_layoutUsermanagementRoute =
  Admin_layoutUsermanagementRouteImport.update({
    id: '/usermanagement',
    path: '/usermanagement',
    getParentRoute: () => Admin_layoutRoute,
  } as any)
const Admin_layoutDashboardRoute = Admin_layoutDashboardRouteImport.update({
  id: '/dashboard',
  path: '/dashboard',
  getParentRoute: () => Admin_layoutRoute,
} as any)

export interface FileRoutesByFullPath {
  '/about': typeof AboutRoute
  '/admin': typeof Admin_layoutRouteWithChildren
  '/auth': typeof Auth_layoutRoute
  '/auth/forgetPassword': typeof AuthForgetPasswordRoute
  '/auth/login': typeof AuthLoginRoute
  '/auth/reset-otp': typeof AuthResetOtpRoute
  '/auth/resetPassword': typeof AuthResetPasswordRoute
  '/auth/signup': typeof AuthSignupRoute
  '/auth/verify-otp': typeof AuthVerifyOtpRoute
  '/main': typeof Main_layoutRoute
  '/main/home': typeof MainHomeRoute
  '/admin/dashboard': typeof Admin_layoutDashboardRoute
  '/admin/usermanagement': typeof Admin_layoutUsermanagementRoute
}
export interface FileRoutesByTo {
  '/about': typeof AboutRoute
  '/admin': typeof Admin_layoutRouteWithChildren
  '/auth': typeof Auth_layoutRoute
  '/auth/forgetPassword': typeof AuthForgetPasswordRoute
  '/auth/login': typeof AuthLoginRoute
  '/auth/reset-otp': typeof AuthResetOtpRoute
  '/auth/resetPassword': typeof AuthResetPasswordRoute
  '/auth/signup': typeof AuthSignupRoute
  '/auth/verify-otp': typeof AuthVerifyOtpRoute
  '/main': typeof Main_layoutRoute
  '/main/home': typeof MainHomeRoute
  '/admin/dashboard': typeof Admin_layoutDashboardRoute
  '/admin/usermanagement': typeof Admin_layoutUsermanagementRoute
}
export interface FileRoutesById {
  __root__: typeof rootRouteImport
  '/about': typeof AboutRoute
  '/admin': typeof AdminRouteWithChildren
  '/admin/__layout': typeof Admin_layoutRouteWithChildren
  '/auth': typeof AuthRouteWithChildren
  '/auth/__layout': typeof Auth_layoutRoute
  '/auth/forgetPassword': typeof AuthForgetPasswordRoute
  '/auth/login': typeof AuthLoginRoute
  '/auth/reset-otp': typeof AuthResetOtpRoute
  '/auth/resetPassword': typeof AuthResetPasswordRoute
  '/auth/signup': typeof AuthSignupRoute
  '/auth/verify-otp': typeof AuthVerifyOtpRoute
  '/main': typeof MainRouteWithChildren
  '/main/__layout': typeof Main_layoutRoute
  '/main/home': typeof MainHomeRoute
  '/admin/__layout/dashboard': typeof Admin_layoutDashboardRoute
  '/admin/__layout/usermanagement': typeof Admin_layoutUsermanagementRoute
}
export interface FileRouteTypes {
  fileRoutesByFullPath: FileRoutesByFullPath
  fullPaths:
    | '/about'
    | '/admin'
    | '/auth'
    | '/auth/forgetPassword'
    | '/auth/login'
    | '/auth/reset-otp'
    | '/auth/resetPassword'
    | '/auth/signup'
    | '/auth/verify-otp'
    | '/main'
    | '/main/home'
    | '/admin/dashboard'
    | '/admin/usermanagement'
  fileRoutesByTo: FileRoutesByTo
  to:
    | '/about'
    | '/admin'
    | '/auth'
    | '/auth/forgetPassword'
    | '/auth/login'
    | '/auth/reset-otp'
    | '/auth/resetPassword'
    | '/auth/signup'
    | '/auth/verify-otp'
    | '/main'
    | '/main/home'
    | '/admin/dashboard'
    | '/admin/usermanagement'
  id:
    | '__root__'
    | '/about'
    | '/admin'
    | '/admin/__layout'
    | '/auth'
    | '/auth/__layout'
    | '/auth/forgetPassword'
    | '/auth/login'
    | '/auth/reset-otp'
    | '/auth/resetPassword'
    | '/auth/signup'
    | '/auth/verify-otp'
    | '/main'
    | '/main/__layout'
    | '/main/home'
    | '/admin/__layout/dashboard'
    | '/admin/__layout/usermanagement'
  fileRoutesById: FileRoutesById
}
export interface RootRouteChildren {
  AboutRoute: typeof AboutRoute
  AdminRoute: typeof AdminRouteWithChildren
  AuthRoute: typeof AuthRouteWithChildren
  MainRoute: typeof MainRouteWithChildren
}

declare module '@tanstack/react-router' {
  interface FileRoutesByPath {
    '/main': {
      id: '/main'
      path: '/main'
      fullPath: '/main'
      preLoaderRoute: typeof MainRouteImport
      parentRoute: typeof rootRouteImport
    }
    '/auth': {
      id: '/auth'
      path: '/auth'
      fullPath: '/auth'
      preLoaderRoute: typeof AuthRouteImport
      parentRoute: typeof rootRouteImport
    }
    '/admin': {
      id: '/admin'
      path: '/admin'
      fullPath: '/admin'
      preLoaderRoute: typeof AdminRouteImport
      parentRoute: typeof rootRouteImport
    }
    '/about': {
      id: '/about'
      path: '/about'
      fullPath: '/about'
      preLoaderRoute: typeof AboutRouteImport
      parentRoute: typeof rootRouteImport
    }
    '/main/home': {
      id: '/main/home'
      path: '/home'
      fullPath: '/main/home'
      preLoaderRoute: typeof MainHomeRouteImport
      parentRoute: typeof MainRoute
    }
    '/main/__layout': {
      id: '/main/__layout'
      path: '/main'
      fullPath: '/main'
      preLoaderRoute: typeof Main_layoutRouteImport
      parentRoute: typeof MainRoute
    }
    '/auth/verify-otp': {
      id: '/auth/verify-otp'
      path: '/verify-otp'
      fullPath: '/auth/verify-otp'
      preLoaderRoute: typeof AuthVerifyOtpRouteImport
      parentRoute: typeof AuthRoute
    }
    '/auth/signup': {
      id: '/auth/signup'
      path: '/signup'
      fullPath: '/auth/signup'
      preLoaderRoute: typeof AuthSignupRouteImport
      parentRoute: typeof AuthRoute
    }
    '/auth/resetPassword': {
      id: '/auth/resetPassword'
      path: '/resetPassword'
      fullPath: '/auth/resetPassword'
      preLoaderRoute: typeof AuthResetPasswordRouteImport
      parentRoute: typeof AuthRoute
    }
    '/auth/reset-otp': {
      id: '/auth/reset-otp'
      path: '/reset-otp'
      fullPath: '/auth/reset-otp'
      preLoaderRoute: typeof AuthResetOtpRouteImport
      parentRoute: typeof AuthRoute
    }
    '/auth/login': {
      id: '/auth/login'
      path: '/login'
      fullPath: '/auth/login'
      preLoaderRoute: typeof AuthLoginRouteImport
      parentRoute: typeof AuthRoute
    }
    '/auth/forgetPassword': {
      id: '/auth/forgetPassword'
      path: '/forgetPassword'
      fullPath: '/auth/forgetPassword'
      preLoaderRoute: typeof AuthForgetPasswordRouteImport
      parentRoute: typeof AuthRoute
    }
    '/auth/__layout': {
      id: '/auth/__layout'
      path: '/auth'
      fullPath: '/auth'
      preLoaderRoute: typeof Auth_layoutRouteImport
      parentRoute: typeof AuthRoute
    }
    '/admin/__layout': {
      id: '/admin/__layout'
      path: '/admin'
      fullPath: '/admin'
      preLoaderRoute: typeof Admin_layoutRouteImport
      parentRoute: typeof AdminRoute
    }
    '/admin/__layout/usermanagement': {
      id: '/admin/__layout/usermanagement'
      path: '/usermanagement'
      fullPath: '/admin/usermanagement'
      preLoaderRoute: typeof Admin_layoutUsermanagementRouteImport
      parentRoute: typeof Admin_layoutRoute
    }
    '/admin/__layout/dashboard': {
      id: '/admin/__layout/dashboard'
      path: '/dashboard'
      fullPath: '/admin/dashboard'
      preLoaderRoute: typeof Admin_layoutDashboardRouteImport
      parentRoute: typeof Admin_layoutRoute
    }
  }
}

interface Admin_layoutRouteChildren {
  Admin_layoutDashboardRoute: typeof Admin_layoutDashboardRoute
  Admin_layoutUsermanagementRoute: typeof Admin_layoutUsermanagementRoute
}

const Admin_layoutRouteChildren: Admin_layoutRouteChildren = {
  Admin_layoutDashboardRoute: Admin_layoutDashboardRoute,
  Admin_layoutUsermanagementRoute: Admin_layoutUsermanagementRoute,
}

const Admin_layoutRouteWithChildren = Admin_layoutRoute._addFileChildren(
  Admin_layoutRouteChildren,
)

interface AdminRouteChildren {
  Admin_layoutRoute: typeof Admin_layoutRouteWithChildren
}

const AdminRouteChildren: AdminRouteChildren = {
  Admin_layoutRoute: Admin_layoutRouteWithChildren,
}

const AdminRouteWithChildren = AdminRoute._addFileChildren(AdminRouteChildren)

interface AuthRouteChildren {
  Auth_layoutRoute: typeof Auth_layoutRoute
  AuthForgetPasswordRoute: typeof AuthForgetPasswordRoute
  AuthLoginRoute: typeof AuthLoginRoute
  AuthResetOtpRoute: typeof AuthResetOtpRoute
  AuthResetPasswordRoute: typeof AuthResetPasswordRoute
  AuthSignupRoute: typeof AuthSignupRoute
  AuthVerifyOtpRoute: typeof AuthVerifyOtpRoute
}

const AuthRouteChildren: AuthRouteChildren = {
  Auth_layoutRoute: Auth_layoutRoute,
  AuthForgetPasswordRoute: AuthForgetPasswordRoute,
  AuthLoginRoute: AuthLoginRoute,
  AuthResetOtpRoute: AuthResetOtpRoute,
  AuthResetPasswordRoute: AuthResetPasswordRoute,
  AuthSignupRoute: AuthSignupRoute,
  AuthVerifyOtpRoute: AuthVerifyOtpRoute,
}

const AuthRouteWithChildren = AuthRoute._addFileChildren(AuthRouteChildren)

interface MainRouteChildren {
  Main_layoutRoute: typeof Main_layoutRoute
  MainHomeRoute: typeof MainHomeRoute
}

const MainRouteChildren: MainRouteChildren = {
  Main_layoutRoute: Main_layoutRoute,
  MainHomeRoute: MainHomeRoute,
}

const MainRouteWithChildren = MainRoute._addFileChildren(MainRouteChildren)

const rootRouteChildren: RootRouteChildren = {
  AboutRoute: AboutRoute,
  AdminRoute: AdminRouteWithChildren,
  AuthRoute: AuthRouteWithChildren,
  MainRoute: MainRouteWithChildren,
}
export const routeTree = rootRouteImport
  ._addFileChildren(rootRouteChildren)
  ._addFileTypes<FileRouteTypes>()


==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\services\apiClient.ts ====
import { tokenService } from "./tokenService";
import axios,{ AxiosError } from "axios";
import type { InternalAxiosRequestConfig } from "axios";
import { router } from "../router";
import toast from "react-hot-toast";
import  {useAuthStore} from "../modules/auth/store/useAuthStore"


const apiClient = axios.create({
    baseURL: import.meta.env.VITE_API_URL || "http://localhost:5000/api/v1",
    withCredentials: true,
});


interface ExtendedAxiosRequestConfig extends InternalAxiosRequestConfig {
    _retry?: boolean;
}

let isRefreshing = false;
let refreshPromise: Promise<{ user?: unknown }> | null = null;

apiClient.interceptors.response.use(
    (res) => res,
    async (error: AxiosError) => {
        const status = error.response?.status;
        const original = error.config as ExtendedAxiosRequestConfig;

        if (status === 401 && original && !original._retry) {
            original._retry = true;

            if (!isRefreshing) {
                isRefreshing = true;
                refreshPromise = tokenService.refreshAccessToken()
                    .finally(() => {
                        isRefreshing = false;
                    });
            }

            try {
                const data = await refreshPromise;
                if (data?.user) {
                    useAuthStore.getState().setUser(data.user as never);
                }
                return apiClient(original);
            } catch (err) {
                await tokenService.logout();
                toast.error("Session expired. Please login again.");
                router.navigate({ to: "/auth/login" });
                return Promise.reject(err);
            }
        }

        if (status === 403) {
            const message = (error.response?.data as { message?: string })?.message;
            toast.error(message || "Access denied.");
        } else if (error.response?.data) {
            const message = (error.response.data as { message?: string })?.message;
            if (message) {
                toast.error(message);
            }
        }

        return Promise.reject(error);
    }
);

export default apiClient;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\services\tokenService.ts ====
import axios from "axios";
import { useAuthStore } from "../modules/auth/store/useAuthStore";
const rawClient = axios.create({
    baseURL:"http://localhost:5000/api/v1",
    withCredentials:true,
})


export class TokenServise{
    
    async refreshAccessToken(){
        const res = await rawClient.post("/auth/refresh-token")
        return res.data
    }

    async logout(){
        await rawClient.post("/auth/logout");
        useAuthStore.getState().clearUser();
    }

}

export const tokenService = new TokenServise()

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\store\ProtectedRoutes.tsx ====
import React, { type JSX } from "react";
import { Navigate, } from "react-router-dom";
import { useAuthStore } from "../modules/auth/store/useAuthStore";

export const ProtectedRoute:React.FC<{children:JSX.Element}>=({children})=>{
 const user = useAuthStore((s)=>s.user);
 if(!user)return <Navigate to={"/login"} replace />
 return children
}

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\utils\errorhandler.ts ====
import { AxiosError } from "axios";

interface ErrorResponse {
  message?: string;
  error?: string;
}

export const getErrorMessage = (error: unknown): string => {
  if (error instanceof AxiosError) {
    const data = error.response?.data as ErrorResponse | undefined;
    return data?.message || data?.error || "An error occurred";
  }
  
  if (error instanceof Error) {
    return error.message;
  }
  
  return "An unexpected error occurred";
};

export type ApiError = AxiosError<ErrorResponse>;

==== C:\Users\DELL\OneDrive\Desktop\completed Projects\Photo-book\frontend\src\utils\helper.ts ====
